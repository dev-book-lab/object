# Chapter 07. ê°ì²´ ë¶„í•´

> *"ì¶”ìƒí™”ë¥¼ í†µí•´ ë³µì¡ì„±ì„ ê·¹ë³µí•˜ê³ , ë¶„í•´ë¥¼ í†µí•´ í° ë¬¸ì œë¥¼ ì‘ì€ ë¬¸ì œë¡œ ë‚˜ëˆ„ì"*

## ğŸ“Œ í•µì‹¬ ê°œë…

- **ì¶”ìƒí™”(Abstraction)**: ë¶ˆí•„ìš”í•œ ì •ë³´ë¥¼ ì œê±°í•˜ê³  ë¬¸ì œ í•´ê²°ì— í•„ìš”í•œ í•µì‹¬ë§Œ ë‚¨ê¸°ëŠ” ì‘ì—…
- **ë¶„í•´(Decomposition)**: í° ë¬¸ì œë¥¼ í•´ê²° ê°€ëŠ¥í•œ ì‘ì€ ë¬¸ì œë¡œ ë‚˜ëˆ„ëŠ” ì‘ì—…
- **í”„ë¡œì‹œì € ì¶”ìƒí™”**: ì†Œí”„íŠ¸ì›¨ì–´ê°€ **ë¬´ì—‡ì„ í•´ì•¼ í•˜ëŠ”ì§€** ì¶”ìƒí™” â†’ ê¸°ëŠ¥ ë¶„í•´
- **ë°ì´í„° ì¶”ìƒí™”**: ì†Œí”„íŠ¸ì›¨ì–´ê°€ **ë¬´ì—‡ì„ ì•Œì•„ì•¼ í•˜ëŠ”ì§€** ì¶”ìƒí™” â†’ ì¶”ìƒ ë°ì´í„° íƒ€ì… / ê°ì²´ì§€í–¥
- **ì •ë³´ ì€ë‹‰(Information Hiding)**: ë³€ê²½ë˜ëŠ” ë¶€ë¶„ì„ ì•ˆì •ì ì¸ ì¸í„°í˜ì´ìŠ¤ ë’¤ë¡œ ê°ì¶”ê¸°
- **ëª¨ë“ˆ(Module)**: ë³€ê²½ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ê¸°ë³¸ êµ¬í˜„ ë‹¨ìœ„

---

## ğŸ¯ í•™ìŠµ ëª©í‘œ

1. **ì¸ì§€ ê³¼ë¶€í•˜**ë¥¼ ê·¹ë³µí•˜ëŠ” ì¶”ìƒí™”ì™€ ë¶„í•´ì˜ í•„ìš”ì„± ì´í•´í•˜ê¸°
2. **í•˜í–¥ì‹ ê¸°ëŠ¥ ë¶„í•´**ì˜ ë¬¸ì œì ì„ ëª…í™•íˆ íŒŒì•…í•˜ê¸°
3. **ì •ë³´ ì€ë‹‰ê³¼ ëª¨ë“ˆ**ì„ í†µí•œ ë³€ê²½ ê´€ë¦¬ ë°©ë²• í•™ìŠµí•˜ê¸°
4. **ì¶”ìƒ ë°ì´í„° íƒ€ì…**ê³¼ **í´ë˜ìŠ¤**ì˜ ì°¨ì´ì  ì´í•´í•˜ê¸°
5. **ê¸‰ì—¬ ì‹œìŠ¤í…œì˜ ì§„í™”**ë¥¼ í†µí•´ ê°ì²´ì§€í–¥ì˜ ì¥ì  ì²´ë“í•˜ê¸°

---

## ğŸ”‘ Chapter í•µì‹¬ ë©”ì‹œì§€

### ì™œ ë¶„í•´ê°€ í•„ìš”í•œê°€?

```
ì¸ê°„ì˜ ë‹¨ê¸° ê¸°ì–µ í•œê³„: 7Â±2ê°œ í•­ëª©
â†’ ë³µì¡í•œ ë¬¸ì œë¥¼ í•œ ë²ˆì— ì´í•´í•  ìˆ˜ ì—†ìŒ

í•´ê²°ì±… 1: ì¶”ìƒí™” (Abstraction)
- ë¶ˆí•„ìš”í•œ ì„¸ë¶€ì‚¬í•­ ì œê±°
- í•µì‹¬ë§Œ ë‚¨ê¸°ê¸°
- ì´í•´ ê°€ëŠ¥í•œ ìˆ˜ì¤€ìœ¼ë¡œ ë‹¨ìˆœí™”

í•´ê²°ì±… 2: ë¶„í•´ (Decomposition)
- í° ë¬¸ì œë¥¼ ì‘ì€ ë¬¸ì œë¡œ
- ê°ê°ì„ ë…ë¦½ì ìœ¼ë¡œ í•´ê²°
- ë‹¤ì‹œ ì¡°í•©í•˜ì—¬ ì „ì²´ í•´ê²°
```

**ì´ë²ˆ ì±•í„°ì˜ ì—¬ì •**:
```
ì ˆì°¨ì  í”„ë¡œê·¸ë˜ë° (ê¸°ëŠ¥ ë¶„í•´)
    â†“ ë¬¸ì œì  ë°œê²¬
ëª¨ë“ˆ (ì •ë³´ ì€ë‹‰)
    â†“ ì¸ìŠ¤í„´ìŠ¤ ê°œë… ë¶€ì¡±
ì¶”ìƒ ë°ì´í„° íƒ€ì…
    â†“ ë‹¤í˜•ì„± ë¶€ì¡±
ê°ì²´ì§€í–¥ (í´ë˜ìŠ¤)
```

---

## ğŸ’­ 00. ì¸ì§€ ê³¼ë¶€í•˜ì™€ ë¶„í•´ì˜ í•„ìš”ì„±

### ë‹¨ê¸° ê¸°ì–µì˜ í•œê³„

> **George Millerì˜ ì—°êµ¬**: ì¸ê°„ì€ í•œ ë²ˆì— 7Â±2ê°œ í•­ëª©ë§Œ ê¸°ì–µ ê°€ëŠ¥

```
ë¬¸ì œ í•´ê²° ê³¼ì •:
1. ì¥ê¸° ê¸°ì–µì—ì„œ í•„ìš”í•œ ì •ë³´ ì¸ì¶œ
2. ë‹¨ê¸° ê¸°ì–µìœ¼ë¡œ ì´ë™
3. ë‹¨ê¸° ê¸°ì–µì—ì„œ ë¬¸ì œ í•´ê²°
4. ê²°ê³¼ë¥¼ ë‹¤ì‹œ ì¥ê¸° ê¸°ì–µìœ¼ë¡œ ì €ì¥

ë³‘ëª©: ë‹¨ê¸° ê¸°ì–µì˜ ìš©ëŸ‰!
â†’ 7ê°œë¥¼ ì´ˆê³¼í•˜ëŠ” ìˆœê°„ ì¸ì§€ ê³¼ë¶€í•˜ ë°œìƒ
â†’ ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ ê¸‰ê²©íˆ ì €í•˜
```

---

### ì¶”ìƒí™”ì™€ ë¶„í•´ë¡œ ê·¹ë³µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë³µì¡í•œ ì‹œìŠ¤í…œ (100ê°œ ìš”ì†Œ)              â”‚
â”‚                                     â”‚
â”‚  âŒ í•œ ë²ˆì— ì´í•´ ë¶ˆê°€ëŠ¥                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

         ì¶”ìƒí™” & ë¶„í•´ â†“

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ëª¨ë“ˆ A    â”‚  â”‚ ëª¨ë“ˆ B    â”‚ â”‚ ëª¨ë“ˆ C    â”‚
â”‚ (5ê°œ)    â”‚  â”‚ (5ê°œ)     â”‚ â”‚ (5ê°œ)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… ê° ëª¨ë“ˆì€ ì´í•´ ê°€ëŠ¥í•œ í¬ê¸°
âœ… ëª¨ë“ˆ ê°„ ì¸í„°í˜ì´ìŠ¤ë¡œ ì—°ê²°
âœ… í•œ ë²ˆì— í•˜ë‚˜ì˜ ëª¨ë“ˆì— ì§‘ì¤‘
```

**í•µì‹¬**:
```
ì¶”ìƒí™” = ë³µì¡ë„ ê°ì†Œ
ë¶„í•´ = ê´€ë¦¬ ê°€ëŠ¥í•œ í¬ê¸°ë¡œ ë‚˜ëˆ„ê¸°
ì¶”ìƒí™” + ë¶„í•´ = ë³µì¡í•œ ì‹œìŠ¤í…œ êµ¬ì¶• ê°€ëŠ¥
```

---

## ğŸ¬ 01. í”„ë¡œì‹œì € ì¶”ìƒí™”ì™€ ë°ì´í„° ì¶”ìƒí™”

### ë‘ ê°€ì§€ ì¶”ìƒí™” ë©”ì»¤ë‹ˆì¦˜

í˜„ëŒ€ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì˜ í•µì‹¬:

| ì¶”ìƒí™” ì¢…ë¥˜ | ì§ˆë¬¸ | ì¤‘ì‹¬ ê°œë… | ë¶„í•´ ë°©ë²• |
|------------|------|----------|----------|
| **í”„ë¡œì‹œì € ì¶”ìƒí™”** | "ë¬´ì—‡ì„ **í•´ì•¼** í•˜ëŠ”ê°€?" | ê¸°ëŠ¥, ì•Œê³ ë¦¬ì¦˜ | ê¸°ëŠ¥ ë¶„í•´ |
| **ë°ì´í„° ì¶”ìƒí™”** | "ë¬´ì—‡ì„ **ì•Œì•„ì•¼** í•˜ëŠ”ê°€?" | ë°ì´í„°, íƒ€ì… | íƒ€ì…/ê°ì²´ ë¶„í•´ |

---

### í”„ë¡œì‹œì € ì¶”ìƒí™” (Procedure Abstraction)

```
ì´ˆì : ì†Œí”„íŠ¸ì›¨ì–´ê°€ ìˆ˜í–‰í•´ì•¼ í•  ê¸°ëŠ¥

ì˜ˆì‹œ: "ê¸‰ì—¬ë¥¼ ê³„ì‚°í•œë‹¤"
â†’ ì–´ë–¤ ë°ì´í„°ë¥¼ ì‚¬ìš©í• ì§€ëŠ” ë‚˜ì¤‘ì— ê²°ì •
â†’ ë¨¼ì € ê¸°ëŠ¥ì„ ë¶„í•´

ê²°ê³¼: ê¸°ëŠ¥ ì¤‘ì‹¬ ì‹œìŠ¤í…œ
- í•¨ìˆ˜ë“¤ì˜ ê³„ì¸µ êµ¬ì¡°
- ë°ì´í„°ëŠ” ì „ì—­ ë³€ìˆ˜ë¡œ ê³µìœ 
- í•˜í–¥ì‹ ì ‘ê·¼ë²•
```

---

### ë°ì´í„° ì¶”ìƒí™” (Data Abstraction)

```
ì´ˆì : ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì•Œì•„ì•¼ í•  ì •ë³´

ì˜ˆì‹œ: "ì§ì› ì •ë³´"
â†’ ì–´ë–¤ ê¸°ëŠ¥ì´ í•„ìš”í•œì§€ëŠ” ë‚˜ì¤‘ì— ê²°ì •
â†’ ë¨¼ì € ë°ì´í„°ë¥¼ ì •ì˜

ë‘ ê°€ì§€ ë°©í–¥:
1. íƒ€ì… ì¶”ìƒí™” â†’ ì¶”ìƒ ë°ì´í„° íƒ€ì… (ADT)
2. í”„ë¡œì‹œì € ì¶”ìƒí™” â†’ ê°ì²´ì§€í–¥ (OOP)
```

---

### ê°ì²´ì§€í–¥ì˜ ìœ„ì¹˜

```
í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„ì˜ ìŠ¤í™íŠ¸ëŸ¼:

[ê¸°ëŠ¥ ë¶„í•´]â”€â”€â”€â”€[ëª¨ë“ˆ]â”€â”€â”€â”€[ì¶”ìƒ ë°ì´í„° íƒ€ì…]â”€â”€â”€â”€[ê°ì²´ì§€í–¥]
    â†‘              â†‘            â†‘                â†‘
  í•¨ìˆ˜ ì¤‘ì‹¬    ì •ë³´ ì€ë‹‰     íƒ€ì… ì¶”ìƒí™”      ë‹¤í˜•ì„± ì¶”ê°€

ê°ì²´ì§€í–¥ = ë°ì´í„° ì¶”ìƒí™” + í”„ë¡œì‹œì € ì¶”ìƒí™”
         = ìƒì† + ë‹¤í˜•ì„±
```

---

## ğŸ“‰ 02. í”„ë¡œì‹œì € ì¶”ìƒí™”ì™€ ê¸°ëŠ¥ ë¶„í•´

### ë©”ì¸ í•¨ìˆ˜ë¡œì„œì˜ ì‹œìŠ¤í…œ

> **ì „í†µì  ê´€ì **: ì‹œìŠ¤í…œ = í•˜ë‚˜ì˜ í° í•¨ìˆ˜

```
ì‹œìŠ¤í…œì˜ ê°œë…ì  ëª¨ë¸:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         main(input)                â”‚
â”‚                                    â”‚
â”‚  1. ì…ë ¥ì„ ë°›ëŠ”ë‹¤                     â”‚
â”‚  2. ì…ë ¥ì„ ì²˜ë¦¬í•œë‹¤                    â”‚
â”‚  3. ê²°ê³¼ë¥¼ ì¶œë ¥í•œë‹¤                    â”‚
â”‚                                    â”‚
â”‚         return output              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

íŠ¹ì§•:
- ì‹œìŠ¤í…œ = ê±°ëŒ€í•œ ìˆ˜í•™ í•¨ìˆ˜
- ì…ë ¥ â†’ ì²˜ë¦¬ â†’ ì¶œë ¥ì˜ ë‹¨ìˆœ íë¦„
- ëª¨ë“  ê²ƒì´ ë©”ì¸ í•¨ìˆ˜ ì•„ë˜ ë°°ì¹˜
```

---

### í•˜í–¥ì‹ ì ‘ê·¼ë²• (Top-Down Approach)

```
1ë‹¨ê³„: ìµœìƒìœ„ ê¸°ëŠ¥ ì •ì˜
"ì§ì›ì˜ ê¸‰ì—¬ë¥¼ ê³„ì‚°í•œë‹¤"

2ë‹¨ê³„: í•˜ìœ„ ê¸°ëŠ¥ìœ¼ë¡œ ë¶„í•´
"ì§ì›ì˜ ê¸‰ì—¬ë¥¼ ê³„ì‚°í•œë‹¤"
  â”œâ”€ "ì‚¬ìš©ìë¡œë¶€í„° ì†Œë“ì„¸ìœ¨ì„ ì…ë ¥ë°›ëŠ”ë‹¤"
  â”œâ”€ "ì§ì›ì˜ ê¸‰ì—¬ë¥¼ ê³„ì‚°í•œë‹¤"
  â””â”€ "ì–‘ì‹ì— ë§ê²Œ ê²°ê³¼ë¥¼ ì¶œë ¥í•œë‹¤"

3ë‹¨ê³„: ë” ì„¸ë¶€ì ìœ¼ë¡œ ë¶„í•´
"ì‚¬ìš©ìë¡œë¶€í„° ì†Œë“ì„¸ìœ¨ì„ ì…ë ¥ë°›ëŠ”ë‹¤"
  â”œâ”€ "ì„¸ìœ¨ì„ ì…ë ¥í•˜ì„¸ìš”"ë¥¼ ì¶œë ¥í•œë‹¤
  â””â”€ í‚¤ë³´ë“œë¡œ ì„¸ìœ¨ì„ ì…ë ¥ë°›ëŠ”ë‹¤

4ë‹¨ê³„: êµ¬í˜„ ê°€ëŠ¥í•  ë•Œê¹Œì§€ ë°˜ë³µ
```

**ê²°ê³¼ë¬¼**: í•¨ìˆ˜ë“¤ì˜ ê³„ì¸µì  íŠ¸ë¦¬ êµ¬ì¡°

```
                  main()
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚           â”‚           â”‚
   getTaxRate()  calculatePay()  describeResult()
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   getBasePay()         calculateFee()
```

---

## ğŸ’° ê¸‰ì—¬ ê´€ë¦¬ ì‹œìŠ¤í…œ: 6ë‹¨ê³„ ì§„í™” ê³¼ì •

### ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

```
ê¸°ë³¸ ê·œì¹™:
1. íšŒì‚¬ëŠ” ì •ê·œ ì§ì›ê³¼ ì•„ë¥´ë°”ì´íŠ¸ ì§ì›ì„ ê³ ìš©
2. ì •ê·œ ì§ì›: ê¸°ë³¸ê¸‰ - (ê¸°ë³¸ê¸‰ Ã— ì†Œë“ì„¸ìœ¨)
3. ì•„ë¥´ë°”ì´íŠ¸: ì‹œê¸‰ Ã— ê·¼ë¬´ì‹œê°„ - (ì‹œê¸‰ Ã— ê·¼ë¬´ì‹œê°„ Ã— ì†Œë“ì„¸ìœ¨)
4. ë§¤ì›” ëª¨ë“  ì§ì›ì˜ ê¸‰ì—¬ ê³„ì‚° ë° ì§€ê¸‰
```

ì´ì œ 6ë‹¨ê³„ì— ê±¸ì³ ì‹œìŠ¤í…œì´ ì–´ë–»ê²Œ ì§„í™”í•˜ëŠ”ì§€ ì¶”ì í•´ë´…ì‹œë‹¤!

---

## ğŸ”´ Step 01: ìˆœìˆ˜ ê¸°ëŠ¥ ë¶„í•´

> ğŸ“‚ **ì½”ë“œ**: `employees_step01.rb`

### ì „ì²´ ì½”ë“œ

```ruby
#encoding: UTF-8
$employees = ["ì§ì›A", "ì§ì›B", "ì§ì›C"]
$basePays = [400, 300, 250]

def main(name)
  taxRate = getTaxRate()
  pay = calculatePayFor(name, taxRate)
  puts(describeResult(name, pay))
end

def getTaxRate()
  print("ì„¸ìœ¨ì„ ì…ë ¥í•˜ì„¸ìš”: ")
  return gets().chomp().to_f()
end

def calculatePayFor(name, taxRate)
  index = $employees.index(name)
  basePay = $basePays[index]  
  return basePay - (basePay * taxRate)
end

def describeResult(name, pay)
  return "ì´ë¦„ : #{name}, ê¸‰ì—¬ : #{pay}"
end

main("ì§ì›A")
```

---

### êµ¬ì¡° ë¶„ì„

```
í•¨ìˆ˜ ê³„ì¸µ:
main(name)
  â”œâ”€ getTaxRate()
  â”œâ”€ calculatePayFor(name, taxRate)
  â””â”€ describeResult(name, pay)

ë°ì´í„°:
$employees = ì „ì—­ ë°°ì—´
$basePays = ì „ì—­ ë°°ì—´

ì˜ì¡´ì„±:
ëª¨ë“  í•¨ìˆ˜ê°€ ì „ì—­ ë³€ìˆ˜ì— ì˜ì¡´
```

---

### ì‹¤í–‰ íë¦„

```
main("ì§ì›A") í˜¸ì¶œ
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. getTaxRate() í˜¸ì¶œ                 â”‚
â”‚    - "ì„¸ìœ¨ì„ ì…ë ¥í•˜ì„¸ìš”: " ì¶œë ¥           â”‚
â”‚    - ì‚¬ìš©ì ì…ë ¥: 0.1                  â”‚
â”‚    - return 0.1                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. calculatePayFor("ì§ì›A", 0.1)     â”‚
â”‚    - $employeesì—ì„œ "ì§ì›A" ì°¾ê¸°       â”‚
â”‚    - index = 0                      â”‚
â”‚    - basePay = $basePays[0] = 400   â”‚
â”‚    - 400 - (400 * 0.1) = 360        â”‚
â”‚    - return 360                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. describeResult("ì§ì›A", 360)      â”‚
â”‚    - "ì´ë¦„ : ì§ì›A, ê¸‰ì—¬ : 360"        â”‚
â”‚    - return ë¬¸ìì—´                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
putsë¡œ ì¶œë ¥: "ì´ë¦„ : ì§ì›A, ê¸‰ì—¬ : 360"
```

---

### ë¬¸ì œì  1: í•˜ë‚˜ì˜ ë©”ì¸ í•¨ìˆ˜

```
âŒ ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ì‹œë‚˜ë¦¬ì˜¤

ìš”êµ¬ì‚¬í•­: "ì „ì²´ ì§ì› ê¸°ë³¸ê¸‰ í•©ê³„ ê³„ì‚°"

ë¬¸ì œ:
- main() í•¨ìˆ˜ëŠ” í•œ ëª…ì˜ ê¸‰ì—¬ë§Œ ê³„ì‚°
- í•©ê³„ ê³„ì‚°ì€ ì™„ì „íˆ ë‹¤ë¥¸ ê¸°ëŠ¥
- main()ì„ ì–´ë–»ê²Œ ìˆ˜ì •í•´ì•¼ í• ê¹Œ?

â†’ ì‹œìŠ¤í…œ = í•˜ë‚˜ì˜ ë©”ì¸ í•¨ìˆ˜ë¼ëŠ” ê°€ì • ë¶•ê´´!
```

---

## ğŸŸ  Step 02: Operation íŒ¨í„´ ë„ì…

> ğŸ“‚ **ì½”ë“œ**: `employees_step02.rb`

### ì£¼ìš” ë³€ê²½ì‚¬í•­

```ruby
def main(operation, args={})
  case(operation)
  when :pay then calculatePay(args[:name])
  when :basePays then sumOfBasePays()
  end
end

def calculatePay(name)
  taxRate = getTaxRate()
  pay = calculatePayFor(name, taxRate)
  puts(describeResult(name, pay))
end

def sumOfBasePays()
  result = 0
  for basePay in $basePays
    result += basePay
  end  
  puts(result)
end

# ì‚¬ìš©
main(:basePays)              # ê¸°ë³¸ê¸‰ í•©ê³„
main(:pay, name:"ì§ì›A")      # ê°œë³„ ê¸‰ì—¬
```

---

### êµ¬ì¡° ë³€í™”

```
Before (Step 01):
main(name) - ë‹¨ì¼ ê¸°ëŠ¥ë§Œ ìˆ˜í–‰

After (Step 02):
main(operation, args)
  â”œâ”€ :pay â†’ calculatePay(name)
  â””â”€ :basePays â†’ sumOfBasePays()

íŠ¹ì§•:
âœ… ì—¬ëŸ¬ ê¸°ëŠ¥ ì§€ì› ê°€ëŠ¥
âŒ ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ main() ìˆ˜ì • í•„ìš”
```

---

### ë¬¸ì œì  2: ë©”ì¸ í•¨ìˆ˜ì˜ ë¹ˆë²ˆí•œ ìˆ˜ì •

```
ì‹œë‚˜ë¦¬ì˜¤: ìƒˆ ê¸°ëŠ¥ ì¶”ê°€

1. ì§ì› ì¶”ê°€ ê¸°ëŠ¥
2. ì§ì› ì‚­ì œ ê¸°ëŠ¥
3. ê¸‰ì—¬ ì¸ìƒ ê¸°ëŠ¥
...

ë§¤ë²ˆ main() í•¨ìˆ˜ì— caseë¬¸ ì¶”ê°€:

def main(operation, args={})
  case(operation)
  when :pay then calculatePay(args[:name])
  when :basePays then sumOfBasePays()
  when :addEmployee then addEmployee(args[:name])  # ì¶”ê°€
  when :removeEmployee then removeEmployee(args[:name])  # ì¶”ê°€
  when :raisePayment then raisePayment(args[:rate])  # ì¶”ê°€
  end
end

âŒ ê°œë°©-íì‡„ ì›ì¹™ ìœ„ë°˜!
âŒ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • â†’ ë²„ê·¸ ìœ„í—˜
```

---

## ğŸŸ¡ Step 03: ì•„ë¥´ë°”ì´íŠ¸ ì§ì› ì¶”ê°€

> ğŸ“‚ **ì½”ë“œ**: `employees_step03.rb`

### ìš”êµ¬ì‚¬í•­ ë³€ê²½

```
ìƒˆë¡œìš´ ìš”êµ¬ì‚¬í•­:
"ì•„ë¥´ë°”ì´íŠ¸ ì§ì›ë„ ê´€ë¦¬í•´ì£¼ì„¸ìš”"

ì•„ë¥´ë°”ì´íŠ¸ ê¸‰ì—¬ ê³„ì‚°:
ì‹œê¸‰ Ã— ê·¼ë¬´ì‹œê°„ - (ì‹œê¸‰ Ã— ê·¼ë¬´ì‹œê°„ Ã— ì†Œë“ì„¸ìœ¨)
```

---

### ì£¼ìš” ë³€ê²½ì‚¬í•­

```ruby
# ë°ì´í„° êµ¬ì¡° ë³µì¡í™”
$employees = ["ì§ì›A", "ì§ì›B", "ì§ì›C", 
              "ì•„ë¥´ë°”ì´íŠ¸D", "ì•„ë¥´ë°”ì´íŠ¸E", "ì•„ë¥´ë°”ì´íŠ¸F"]
$basePays = [400, 300, 250, 1, 1, 1.5]  # ì •ê·œ: ê¸°ë³¸ê¸‰, ì•„ë¥´ë°”ì´íŠ¸: ì‹œê¸‰
$hourlys = [false, false, false, true, true, true]  # íƒ€ì… êµ¬ë¶„
$timeCards = [0, 0, 0, 120, 120, 120]  # ê·¼ë¬´ì‹œê°„

def calculatePay(name)
  taxRate = getTaxRate()
  # âŒ íƒ€ì… í™•ì¸ì´ í•„ìš”í•´ì§!
  if (hourly?(name)) then
    pay = calculateHourlyPayFor(name, taxRate)
  else
    pay = calculatePayFor(name, taxRate)
  end
  puts(describeResult(name, pay))
end

def hourly?(name)
  return $hourlys[$employees.index(name)]
end

def calculateHourlyPayFor(name, taxRate)
  index = $employees.index(name)
  basePay = $basePays[index] * $timeCards[index]
  return basePay - (basePay * taxRate)
end

def sumOfBasePays()
  result = 0
  for name in $employees
    # âŒ ì—¬ê¸°ì„œë„ íƒ€ì… í™•ì¸ í•„ìš”!
    if (not hourly?(name)) then 
      result += $basePays[$employees.index(name)]
    end
  end  
  puts(result)
end
```

---

### ë°ì´í„° êµ¬ì¡° ë¶„ì„

```
ë³‘ë ¬ ë°°ì—´ (Parallel Arrays) íŒ¨í„´:

Index:        0        1        2         3            4            5
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
$employeesâ”‚"ì§ì›A"  â”‚"ì§ì›B"  â”‚"ì§ì›C"  â”‚"ì•„ë¥´ë°”ì´íŠ¸D"  â”‚"ì•„ë¥´ë°”ì´íŠ¸E"  â”‚"ì•„ë¥´ë°”ì´íŠ¸F"  â”‚
          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
$basePays â”‚  400   â”‚  300   â”‚  250   â”‚     1      â”‚     1      â”‚    1.5     â”‚
          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
$hourlys  â”‚ false  â”‚ false  â”‚ false  â”‚   true     â”‚   true     â”‚   true     â”‚
          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
$timeCardsâ”‚   0    â”‚   0    â”‚   0    â”‚    120     â”‚    120     â”‚    120     â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ë¬¸ì œì :
âŒ 4ê°œ ë°°ì—´ì˜ ë™ê¸°í™” í•„ìš”
âŒ ì¸ë±ìŠ¤ ë¶ˆì¼ì¹˜ ì‹œ ë²„ê·¸
âŒ ìƒˆ ì†ì„± ì¶”ê°€ ì‹œ ë°°ì—´ í•˜ë‚˜ ë” ì¶”ê°€
âŒ íƒ€ì… ì •ë³´($hourlys)ê°€ ëª…ì‹œì ìœ¼ë¡œ í•„ìš”
```

---

### ë¬¸ì œì  3: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ UIì˜ ê²°í•©

```ruby
def calculatePay(name)
  # UI: ì‚¬ìš©ì ì…ë ¥
  taxRate = getTaxRate()  # â† print, gets ì‚¬ìš©
  
  # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
  if (hourly?(name)) then
    pay = calculateHourlyPayFor(name, taxRate)
  else
    pay = calculatePayFor(name, taxRate)
  end
  
  # UI: ê²°ê³¼ ì¶œë ¥
  puts(describeResult(name, pay))  # â† puts ì‚¬ìš©
end
```

**ë¬¸ì œ**:
```
ì‹œë‚˜ë¦¬ì˜¤ 1: ì›¹ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€ê²½
â†’ getTaxRate(), puts() ëª¨ë‘ ìˆ˜ì • í•„ìš”

ì‹œë‚˜ë¦¬ì˜¤ 2: ëª¨ë°”ì¼ ì•± ê°œë°œ
â†’ ì „ì²´ í•¨ìˆ˜ ì¬ì‘ì„± í•„ìš”

ì‹œë‚˜ë¦¬ì˜¤ 3: í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
â†’ ì‚¬ìš©ì ì…ë ¥ì„ mockí•˜ê¸° ì–´ë ¤ì›€

ì›ì¸: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ UIê°€ ì„ì—¬ìˆìŒ
```

---

### ë¬¸ì œì  4: ì„±ê¸‰í•œ ì‹¤í–‰ ìˆœì„œ ê²°ì •

```ruby
def calculatePay(name)
  # 1. ì…ë ¥ (ìˆœì„œ ê³ ì •)
  taxRate = getTaxRate()
  
  # 2. ê³„ì‚° (ìˆœì„œ ê³ ì •)
  if (hourly?(name)) then
    pay = calculateHourlyPayFor(name, taxRate)
  else
    pay = calculatePayFor(name, taxRate)
  end
  
  # 3. ì¶œë ¥ (ìˆœì„œ ê³ ì •)
  puts(describeResult(name, pay))
end
```

**ë¬¸ì œ**:
```
ë§Œì•½ ì„¸ìœ¨ì„ ë¯¸ë¦¬ ì•Œê³  ìˆë‹¤ë©´?
â†’ í•¨ìˆ˜ ìˆ˜ì • í•„ìš”

ë§Œì•½ ê²°ê³¼ë¥¼ ì¶œë ¥í•˜ì§€ ì•Šê³  ë°˜í™˜ë§Œ í•˜ë ¤ë©´?
â†’ í•¨ìˆ˜ ìˆ˜ì • í•„ìš”

ë§Œì•½ ê³„ì‚° í›„ ë‹¤ë¥¸ ì²˜ë¦¬ë¥¼ í•˜ë ¤ë©´?
â†’ í•¨ìˆ˜ ìˆ˜ì • í•„ìš”

ì‹¤í–‰ ìˆœì„œê°€ ë„ˆë¬´ ì¼ì°, ë„ˆë¬´ ê°•í•˜ê²Œ ê²°ì •ë¨
â†’ ì¬ì‚¬ìš©ì„± â†“
```

---

### ë¬¸ì œì  5: ë°ì´í„° ë³€ê²½ì˜ íŒŒê¸‰íš¨ê³¼

```
ì‹œë‚˜ë¦¬ì˜¤: timeCards ë°°ì—´ì„ Dictionaryë¡œ ë³€ê²½

$timeCards = [120, 120, 120]  # Before
â†“
$timeCards = {"ì•„ë¥´ë°”ì´íŠ¸D" => 120, ...}  # After

ì˜í–¥ë°›ëŠ” í•¨ìˆ˜ë“¤:
âŒ calculateHourlyPayFor() - ì ‘ê·¼ ë°©ì‹ ë³€ê²½
âŒ ëª¨ë“  timeCardsë¥¼ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ë“¤

ë¬¸ì œ: ì–´ë–¤ í•¨ìˆ˜ë“¤ì´ ì˜í–¥ë°›ëŠ”ì§€ ì¶”ì  ì–´ë ¤ì›€
```

**ê·¼ë³¸ ì›ì¸**:
```
ë°ì´í„° = ì „ì—­ ë³€ìˆ˜
í•¨ìˆ˜ = ë°ì´í„°ì— ììœ ë¡­ê²Œ ì ‘ê·¼

â†’ ë°ì´í„°ì™€ í•¨ìˆ˜ ì‚¬ì´ì˜ ì˜ì¡´ì„±ì´ ëª…ì‹œì ì´ì§€ ì•ŠìŒ
â†’ ë³€ê²½ ì˜í–¥ ë²”ìœ„ íŒŒì•… ë¶ˆê°€ëŠ¥
â†’ ìœ ì§€ë³´ìˆ˜ ì•…ëª½
```

---

## ğŸŸ¢ Step 04: ëª¨ë“ˆì„ í†µí•œ ì •ë³´ ì€ë‹‰

> ğŸ“‚ **ì½”ë“œ**: `employees_step04.rb`

### í•µì‹¬ ì•„ì´ë””ì–´: ì •ë³´ ì€ë‹‰

```
ë¬¸ì œ: ì „ì—­ ë°ì´í„° + ììœ ë¡œìš´ ì ‘ê·¼ = íŒŒê¸‰íš¨ê³¼ ì˜ˆì¸¡ ë¶ˆê°€

í•´ê²°ì±…: ì •ë³´ ì€ë‹‰ (Information Hiding)
1. ìì£¼ ë³€ê²½ë˜ëŠ” ë°ì´í„°ë¥¼ ì‹ë³„
2. ì•ˆì •ì ì¸ ì¸í„°í˜ì´ìŠ¤ ë’¤ë¡œ ìˆ¨ê¸°ê¸°
3. ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼ í—ˆìš©
```

---

### ëª¨ë“ˆ êµ¬ì¡°

```ruby
module Employees
  # âœ… Private: ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ë¶ˆê°€
  $employees = ["ì§ì›A", "ì§ì›B", "ì§ì›C", 
                "ì•„ë¥´ë°”ì´íŠ¸D", "ì•„ë¥´ë°”ì´íŠ¸E", "ì•„ë¥´ë°”ì´íŠ¸F"]
  $basePays = [400, 300, 250, 1, 1, 1.5]
  $hourlys = [false, false, false, true, true, true]
  $timeCards = [0, 0, 0, 120, 120, 120]
  
  # âœ… Public Interface: ì™¸ë¶€ì— ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤
  def Employees.calculatePay(name, taxRate)
    if (Employees.hourly?(name)) then
      pay = Employees.calculateHourlyPayFor(name, taxRate)
    else
      pay = Employees.calculatePayFor(name, taxRate)
    end
  end
  
  def Employees.sumOfBasePays()
    result = 0
    for name in $employees
      if (not Employees.hourly?(name)) then
        result += $basePays[$employees.index(name)]
      end
    end
    return result
  end
  
  # âœ… Private: ëª¨ë“ˆ ë‚´ë¶€ì—ì„œë§Œ ì‚¬ìš©
  def Employees.hourly?(name)
    return $hourlys[$employees.index(name)]
  end
  
  def Employees.calculateHourlyPayFor(name, taxRate)
    index = $employees.index(name)
    basePay = $basePays[index] * $timeCards[index]
    return basePay - (basePay * taxRate)
  end
  
  def Employees.calculatePayFor(name, taxRate)
    index = $employees.index(name)
    basePay = $basePays[index]
    return basePay - (basePay * taxRate)
  end
end

# ì™¸ë¶€ ì½”ë“œ (UI ë ˆì´ì–´)
def calculatePay(name)
  taxRate = getTaxRate()
  pay = Employees.calculatePay(name, taxRate)  # âœ… ëª¨ë“ˆ í†µí•´ì„œë§Œ ì ‘ê·¼
  puts(describeResult(name, pay))
end

def sumOfBasePays()
  puts(Employees.sumOfBasePays())  # âœ… ëª¨ë“ˆ í†µí•´ì„œë§Œ ì ‘ê·¼
end
```

---

### ëª¨ë“ˆì˜ ì¥ì 

**1. ë³€ê²½ ì˜í–¥ ìµœì†Œí™”**

```
Before (Step 03):
$basePays ë³€ê²½ â†’ ëª¨ë“  í•¨ìˆ˜ í™•ì¸ í•„ìš”

After (Step 04):
$basePays ë³€ê²½ â†’ Employees ëª¨ë“ˆ ë‚´ë¶€ë§Œ í™•ì¸

ë³€ê²½ì˜ íŒŒê¸‰íš¨ê³¼ê°€ ëª¨ë“ˆ ê²½ê³„ì—ì„œ ë©ˆì¶¤!
```

**2. ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ UI ë¶„ë¦¬**

```
Before:
calculatePay() ì•ˆì— getTaxRate(), puts() ì„ì—¬ìˆìŒ

After:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   UI Layer          â”‚
â”‚  - getTaxRate()     â”‚
â”‚  - puts()           â”‚
â”‚  - describeResult() â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“ uses
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Business Layer     â”‚
â”‚  Employees ëª¨ë“ˆ      â”‚
â”‚  - calculatePay()   â”‚
â”‚  - sumOfBasePays()  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ (Separation of Concerns)
```

**3. ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì˜¤ì—¼ ë°©ì§€**

```
Before:
calculatePayFor() - ì „ì—­ í•¨ìˆ˜
hourly?() - ì „ì—­ í•¨ìˆ˜
â†’ ì´ë¦„ ì¶©ëŒ ê°€ëŠ¥ì„±

After:
Employees.calculatePayFor() - ëª¨ë“ˆ ë‚´ë¶€
Employees.hourly?() - ëª¨ë“ˆ ë‚´ë¶€
â†’ ëª…í™•í•œ ì†Œì†, ì¶©ëŒ ë°©ì§€
```

---

### ëª¨ë“ˆì˜ í•œê³„

```
ë¬¸ì œ: ì§ì› ê°œê°œì¸ì„ ë‹¤ë£¨ê¸° ì–´ë ¤ì›€

í˜„ì¬:
Employees.calculatePay("ì§ì›A", 0.1)
Employees.calculatePay("ì§ì›B", 0.1)
Employees.calculatePay("ì§ì›C", 0.1)

â†’ ë§¤ë²ˆ ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰
â†’ ì§ì› ê°ì²´ë¥¼ ì§ì ‘ ë‹¤ë£° ìˆ˜ ì—†ìŒ

í•„ìš”í•œ ê²ƒ:
employee1.calculatePay(0.1)
employee2.calculatePay(0.1)
employee3.calculatePay(0.1)

â†’ ì¸ìŠ¤í„´ìŠ¤ ê°œë… í•„ìš”!
```

---

## ğŸ”µ Step 05: ì¶”ìƒ ë°ì´í„° íƒ€ì…

> ğŸ“‚ **ì½”ë“œ**: `employees_step05.rb`

### ì¶”ìƒ ë°ì´í„° íƒ€ì… (Abstract Data Type, ADT)

> **ì •ì˜**: ë°ì´í„°ì™€ ê·¸ ë°ì´í„°ë¥¼ ì¡°ì‘í•˜ëŠ” ì˜¤í¼ë ˆì´ì…˜ì„ í•˜ë‚˜ë¡œ ë¬¶ì€ ê²ƒ

```
íƒ€ì… (Type) = ë°ì´í„° + ì—°ì‚°

ì˜ˆì‹œ:
Integer íƒ€ì… = {ì •ìˆ˜ê°’} + {+, -, *, /, ...}
String íƒ€ì… = {ë¬¸ìì—´} + {concat, substring, ...}

ì¶”ìƒ ë°ì´í„° íƒ€ì…:
ì‚¬ìš©ì ì •ì˜ íƒ€ì… = {ë‚´ë¶€ ë°ì´í„°} + {ì˜¤í¼ë ˆì´ì…˜}
```

---

### Structë¥¼ ì´ìš©í•œ êµ¬í˜„

```ruby
Employee = Struct.new(:name, :basePay, :hourly, :timeCard) do
  # âœ… ì˜¤í¼ë ˆì´ì…˜ 1: ê¸‰ì—¬ ê³„ì‚°
  def calculatePay(taxRate)
    if (hourly) then
      return calculateHourlyPay(taxRate)
    end
    return calculateSalariedPay(taxRate)
  end

  # âœ… ì˜¤í¼ë ˆì´ì…˜ 2: ì›” ê¸°ë³¸ê¸‰ ì¡°íšŒ
  def monthlyBasePay()
    if (hourly) then return 0 end
    return basePay
  end
  
private  
  def calculateHourlyPay(taxRate)
    return (basePay * timeCard) - (basePay * timeCard) * taxRate
  end
  
  def calculateSalariedPay(taxRate)
    return basePay - (basePay * taxRate)
  end
end

# âœ… ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ê°€ëŠ¥!
$employees = [
  Employee.new("ì§ì›A", 400, false, 0),
  Employee.new("ì§ì›B", 300, false, 0),
  Employee.new("ì§ì›C", 250, false, 0),
  Employee.new("ì•„ë¥´ë°”ì´íŠ¸D", 1, true, 120),
  Employee.new("ì•„ë¥´ë°”ì´íŠ¸E", 1, true, 120),
  Employee.new("ì•„ë¥´ë°”ì´íŠ¸F", 1, true, 120),
]
```

---

### ì‚¬ìš© ì½”ë“œ

```ruby
def calculatePay(name)
  taxRate = getTaxRate()
  
  # âœ… ì§ì› ì¸ìŠ¤í„´ìŠ¤ ì°¾ê¸°
  for each in $employees
    if (each.name == name) then 
      employee = each
      break 
    end
  end
  
  # âœ… ì¸ìŠ¤í„´ìŠ¤ì—ê²Œ ë©”ì‹œì§€ ì „ì†¡
  pay = employee.calculatePay(taxRate)
  puts(describeResult(name, pay))
end

def sumOfBasePays()
  result = 0
  for each in $employees
    # âœ… ê° ì¸ìŠ¤í„´ìŠ¤ì—ê²Œ ì§ˆì˜
    result += each.monthlyBasePay()
  end
  puts(result)
end
```

---

### ë°ì´í„° êµ¬ì¡° ë³€í™”

```
Before (Step 04) - ë³‘ë ¬ ë°°ì—´:
$employees = ["ì§ì›A", "ì§ì›B", "ì§ì›C", ...]
$basePays = [400, 300, 250, ...]
$hourlys = [false, false, false, ...]
$timeCards = [0, 0, 0, ...]
â†’ 4ê°œì˜ ë°°ì—´ì„ ë™ê¸°í™”í•´ì•¼ í•¨

After (Step 05) - êµ¬ì¡°ì²´ ë°°ì—´:
$employees = [
  Employee("ì§ì›A", 400, false, 0),
  Employee("ì§ì›B", 300, false, 0),
  Employee("ì§ì›C", 250, false, 0),
  ...
]
â†’ í•˜ë‚˜ì˜ ë°°ì—´ë¡œ í†µí•©!
â†’ ê° ìš”ì†Œê°€ ì™„ì „í•œ ì§ì› ì •ë³´ í¬í•¨
```

---

### ADTì˜ íŠ¹ì§•

**ìº¡ìŠí™”**:
```ruby
# âœ… ì™¸ë¶€ì—ì„œ ë‚´ë¶€ êµ¬í˜„ ëª°ë¼ë„ ë¨
pay = employee.calculatePay(0.1)

# employeeê°€ ì •ê·œì§ì¸ì§€ ì•„ë¥´ë°”ì´íŠ¸ì¸ì§€?
# â†’ ì•Œ í•„ìš” ì—†ìŒ!
# â†’ ë‚´ë¶€ì—ì„œ ì•Œì•„ì„œ ì²˜ë¦¬
```

**íƒ€ì… ì¶”ìƒí™”**:
```ruby
# ëª¨ë“  ì§ì›ì€ Employee íƒ€ì…
for employee in $employees
  pay = employee.calculatePay(taxRate)
  # ë™ì¼í•œ ì¸í„°í˜ì´ìŠ¤!
end
```

**ì¸ìŠ¤í„´ìŠ¤ ê°œë…**:
```ruby
# âœ… ê° ì§ì›ì„ ê°œë³„ ì¸ìŠ¤í„´ìŠ¤ë¡œ ë‹¤ë£° ìˆ˜ ìˆìŒ
employee1 = Employee.new("ì§ì›A", 400, false, 0)
employee2 = Employee.new("ì§ì›B", 300, false, 0)

pay1 = employee1.calculatePay(0.1)
pay2 = employee2.calculatePay(0.1)
```

---

### ADTì˜ ë¬¸ì œì 

```ruby
def calculatePay(taxRate)
  if (hourly) then  # âŒ íƒ€ì… ì²´í¬
    return calculateHourlyPay(taxRate)
  end
  return calculateSalariedPay(taxRate)
end
```

**ë¬¸ì œ**:
```
1. íƒ€ì… ë³€ìˆ˜ (hourly) ì‚¬ìš©
   â†’ íƒ€ì…ì— ë”°ë¥¸ ì¡°ê±´ ë¶„ê¸°

2. ìƒˆë¡œìš´ íƒ€ì… ì¶”ê°€ ì‹œ
   â†’ ifë¬¸ì— ì¼€ì´ìŠ¤ ì¶”ê°€ í•„ìš”

3. ì˜¤í¼ë ˆì´ì…˜ì„ ê¸°ì¤€ìœ¼ë¡œ íƒ€ì…ì„ ë¶„ë¥˜
   â†’ íƒ€ì… ì¶”ê°€ì— ì·¨ì•½

í´ë˜ìŠ¤ëŠ” ì´ ë¬¸ì œë¥¼ ë‹¤í˜•ì„±ìœ¼ë¡œ í•´ê²°!
```

---

## ğŸŸ£ Step 06: ê°ì²´ì§€í–¥ (í´ë˜ìŠ¤)

> ğŸ“‚ **ì½”ë“œ**: `employees_step06.rb`

### í´ë˜ìŠ¤ ê³„ì¸µ êµ¬ì¡°

```ruby
# âœ… ë¶€ëª¨ í´ë˜ìŠ¤: ê³µí†µ ì¸í„°í˜ì´ìŠ¤ ì •ì˜
class Employee
  attr_reader :name, :basePay
  
  def initialize(name, basePay)
    @name = name
    @basePay = basePay
  end
    
  def calculatePay(taxRate)
    raise NotImplementedError  # ì¶”ìƒ ë©”ì„œë“œ
  end
  
  def monthlyBasePay()
    raise NotImplementedError  # ì¶”ìƒ ë©”ì„œë“œ
  end
end

# âœ… ìì‹ í´ë˜ìŠ¤ 1: ì •ê·œ ì§ì›
class SalariedEmployee < Employee
  def initialize(name, basePay)
    super(name, basePay)
  end
    
  def calculatePay(taxRate)
    return basePay - (basePay * taxRate)
  end
  
  def monthlyBasePay()
    return basePay
  end
end

# âœ… ìì‹ í´ë˜ìŠ¤ 2: ì•„ë¥´ë°”ì´íŠ¸
class HourlyEmployee < Employee
  attr_reader :timeCard
  
  def initialize(name, basePay, timeCard)
    super(name, basePay)
    @timeCard = timeCard
  end
  
  def calculatePay(taxRate)
    return (basePay * timeCard) - (basePay * timeCard) * taxRate
  end
  
  def monthlyBasePay()
    return 0
  end  
end
```

---

### ì¸ìŠ¤í„´ìŠ¤ ìƒì„±

```ruby
$employees = [
  SalariedEmployee.new("ì§ì›A", 400),
  SalariedEmployee.new("ì§ì›B", 300),
  SalariedEmployee.new("ì§ì›C", 250),
  HourlyEmployee.new("ì•„ë¥´ë°”ì´íŠ¸D", 1, 120),
  HourlyEmployee.new("ì•„ë¥´ë°”ì´íŠ¸E", 1, 120),
  HourlyEmployee.new("ì•„ë¥´ë°”ì´íŠ¸F", 1, 120),
]
```

---

### ë‹¤í˜•ì„±ì˜ ìœ„ë ¥

```ruby
def calculatePay(name)
  taxRate = getTaxRate()
  
  for each in $employees
    if (each.name == name) then 
      employee = each
      break 
    end
  end
  
  # âœ… íƒ€ì… ì²´í¬ ì—†ìŒ!
  # âœ… ëŸ°íƒ€ì„ì— ì ì ˆí•œ ë©”ì„œë“œ ìë™ ì„ íƒ!
  pay = employee.calculatePay(taxRate)
  puts(describeResult(name, pay))
end

def sumOfBasePays()
  result = 0
  for each in $employees
    # âœ… íƒ€ì… ì²´í¬ ì—†ìŒ!
    result += each.monthlyBasePay()
  end
  puts(result)
end
```

---

### ADT vs í´ë˜ìŠ¤ ë¹„êµ

```
ì¶”ìƒ ë°ì´í„° íƒ€ì… (Step 05):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Employee (Struct)       â”‚
â”‚                              â”‚
â”‚  - name, basePay, hourly,    â”‚
â”‚    timeCard                  â”‚
â”‚                              â”‚
â”‚  + calculatePay(taxRate)     â”‚
â”‚    if (hourly) then          â”‚  â† íƒ€ì… ì²´í¬
â”‚      hourlyPay               â”‚
â”‚    else                      â”‚
â”‚      salariedPay             â”‚
â”‚    end                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

í´ë˜ìŠ¤ (Step 06):
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Employee   â”‚  â† ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†‘   â†‘
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Salaried      â”‚  â”‚   Hourly     â”‚
â”‚Employee      â”‚  â”‚  Employee    â”‚
â”‚              â”‚  â”‚              â”‚
â”‚calculatePay()â”‚  â”‚calculatePay()â”‚  â† ê°ì êµ¬í˜„
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### íƒ€ì… ì¶”ê°€ ì‹œë‚˜ë¦¬ì˜¤

**ìƒˆë¡œìš´ ìš”êµ¬ì‚¬í•­**: "ê³„ì•½ì§ ì§ì› ì¶”ê°€"

**ADT ë°©ì‹ (Step 05)**:
```ruby
def calculatePay(taxRate)
  if (hourly) then
    return calculateHourlyPay(taxRate)
  elsif (contract) then  # âŒ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì •
    return calculateContractPay(taxRate)
  end
  return calculateSalariedPay(taxRate)
end

# âŒ ëª¨ë“  ë©”ì„œë“œì— ì¡°ê±´ë¬¸ ì¶”ê°€ í•„ìš”
def monthlyBasePay()
  if (hourly) then return 0 end
  if (contract) then return contractPay end  # âŒ ì¶”ê°€
  return basePay
end
```

**í´ë˜ìŠ¤ ë°©ì‹ (Step 06)**:
```ruby
# âœ… ìƒˆ í´ë˜ìŠ¤ë§Œ ì¶”ê°€! ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ë¶ˆí•„ìš”
class ContractEmployee < Employee
  attr_reader :monthlyPay
  
  def initialize(name, monthlyPay)
    super(name, monthlyPay)
    @monthlyPay = monthlyPay
  end
  
  def calculatePay(taxRate)
    return monthlyPay - (monthlyPay * taxRate)
  end
  
  def monthlyBasePay()
    return monthlyPay
  end
end

# âœ… ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ë§Œ í•˜ë©´ ë¨
$employees << ContractEmployee.new("ê³„ì•½ì§G", 250)

# âœ… ê¸°ì¡´ ì½”ë“œëŠ” ë³€ê²½ ì—†ì´ ë™ì‘!
pay = employee.calculatePay(taxRate)  # ë‹¤í˜•ì„±!
```

---

## ğŸ“Š 6ë‹¨ê³„ ë¹„êµí‘œ

### ì „ì²´ ì§„í™” ê³¼ì •

| Step | ì´ë¦„ | í•µì‹¬ ê°œë… | ë°ì´í„° êµ¬ì¡° | ì½”ë“œ ê¸¸ì´ | ì£¼ìš” ë¬¸ì œ |
|------|------|----------|------------|----------|----------|
| **01** | ìˆœìˆ˜ ê¸°ëŠ¥ ë¶„í•´ | í•˜í–¥ì‹, ì „ì—­ ë³€ìˆ˜ | ë³‘ë ¬ ë°°ì—´ 2ê°œ | 20ì¤„ | ë‹¨ì¼ ê¸°ëŠ¥ë§Œ |
| **02** | Operation íŒ¨í„´ | caseë¬¸ ë¶„ê¸° | ë³‘ë ¬ ë°°ì—´ 2ê°œ | 35ì¤„ | main() ê³„ì† ìˆ˜ì • |
| **03** | íƒ€ì… ì¶”ê°€ | íƒ€ì… í”Œë˜ê·¸ | ë³‘ë ¬ ë°°ì—´ 4ê°œ | 55ì¤„ | ë™ê¸°í™” ë³µì¡ |
| **04** | ëª¨ë“ˆ | ì •ë³´ ì€ë‹‰ | ë³‘ë ¬ ë°°ì—´ 4ê°œ | 60ì¤„ | ì¸ìŠ¤í„´ìŠ¤ ë¶€ì¡± |
| **05** | ADT | êµ¬ì¡°ì²´ | êµ¬ì¡°ì²´ ë°°ì—´ | 50ì¤„ | íƒ€ì… ì²´í¬ í•„ìš” |
| **06** | í´ë˜ìŠ¤ | ë‹¤í˜•ì„±, ìƒì† | ê°ì²´ ë°°ì—´ | 70ì¤„ | âœ… í•´ê²° |

---

### ë³€ê²½ ì‹œë‚˜ë¦¬ì˜¤ë³„ ì˜í–¥ë„

| ì‹œë‚˜ë¦¬ì˜¤ | Step 01-03 | Step 04 | Step 05 | Step 06 |
|---------|-----------|---------|---------|---------|
| **ìƒˆ ì§ì› íƒ€ì… ì¶”ê°€** | ëª¨ë“  í•¨ìˆ˜ ìˆ˜ì • | ëª¨ë“ˆ ë‚´ë¶€ ìˆ˜ì • | ifë¬¸ ì¶”ê°€ | âœ… ìƒˆ í´ë˜ìŠ¤ë§Œ |
| **ê¸‰ì—¬ ê³„ì‚° ë°©ì‹ ë³€ê²½** | ì—¬ëŸ¬ í•¨ìˆ˜ ìˆ˜ì • | ëª¨ë“ˆ ë‚´ë¶€ë§Œ | í•´ë‹¹ ë¶€ë¶„ë§Œ | âœ… í•´ë‹¹ í´ë˜ìŠ¤ë§Œ |
| **ë°ì´í„° êµ¬ì¡° ë³€ê²½** | ì „ì²´ ì˜í–¥ | ëª¨ë“ˆ ë‚´ë¶€ë§Œ | êµ¬ì¡°ì²´ ì •ì˜ë§Œ | âœ… í´ë˜ìŠ¤ ë‚´ë¶€ë§Œ |
| **ìƒˆ ì˜¤í¼ë ˆì´ì…˜ ì¶”ê°€** | ìƒˆ í•¨ìˆ˜ ì¶”ê°€ | ëª¨ë“ˆì— ì¶”ê°€ | êµ¬ì¡°ì²´ì— ì¶”ê°€ | âœ… ë¶€ëª¨ì— ì¶”ê°€ |
| **UI ë³€ê²½** | ì „ì²´ ì¬ì‘ì„± | âœ… UI ë ˆì´ì–´ë§Œ | âœ… UI ë ˆì´ì–´ë§Œ | âœ… UI ë ˆì´ì–´ë§Œ |

---

## ğŸ­ ADT vs í´ë˜ìŠ¤: í•µì‹¬ ì°¨ì´

### íƒ€ì… ì¶”ìƒí™” vs í”„ë¡œì‹œì € ì¶”ìƒí™”

```
ì¶”ìƒ ë°ì´í„° íƒ€ì… (ADT):
"ì˜¤í¼ë ˆì´ì…˜ ê¸°ì¤€ìœ¼ë¡œ íƒ€ì…ì„ ë¬¶ëŠ”ë‹¤"

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Employee (í•˜ë‚˜ì˜ íƒ€ì…)      â”‚
â”‚                           â”‚
â”‚  if (ì •ê·œì§) then A         â”‚
â”‚  elsif (ì•„ë¥´ë°”ì´íŠ¸) then B   â”‚
â”‚                           â”‚
â”‚  íƒ€ì… ë‚´ë¶€ì—ì„œ êµ¬ë¶„           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â†’ íƒ€ì… ì¶”ìƒí™”
â†’ "Employeeê°€ ë¬´ì—‡ì¸ì§€" ìº¡ìŠí™”
```

```
í´ë˜ìŠ¤ (OOP):
"íƒ€ì… ê¸°ì¤€ìœ¼ë¡œ í”„ë¡œì‹œì €ë¥¼ ë¬¶ëŠ”ë‹¤"

        Employee (ì—­í• )
            â†‘
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
    â”‚               â”‚
SalariedEmployee  HourlyEmployee
    â”‚               â”‚
  êµ¬í˜„ A          êµ¬í˜„ B

â†’ í”„ë¡œì‹œì € ì¶”ìƒí™”
â†’ "ì–´ë–»ê²Œ í•˜ëŠ”ì§€" ìº¡ìŠí™”
```

---

### ë³€ê²½ì˜ ì¶•

```
ì˜¤í¼ë ˆì´ì…˜ ì¶”ê°€ê°€ ë§ë‹¤ë©´?
â†’ ADT ìœ ë¦¬
â†’ ìƒˆ ì˜¤í¼ë ˆì´ì…˜ì„ ADTì— ì¶”ê°€
â†’ ëª¨ë“  íƒ€ì…ì´ í•œ ê³³ì— ìˆì–´ ìˆ˜ì • ìš©ì´

íƒ€ì… ì¶”ê°€ê°€ ë§ë‹¤ë©´?
â†’ í´ë˜ìŠ¤ ìœ ë¦¬ âœ…
â†’ ìƒˆ í´ë˜ìŠ¤ë§Œ ì¶”ê°€
â†’ ê°œë°©-íì‡„ ì›ì¹™ (OCP)
```

---

### ì‹¤ì „ íŒë‹¨ ê¸°ì¤€

```
ì§ˆë¬¸ 1: "ìƒˆë¡œìš´ íƒ€ì…ì´ ìì£¼ ì¶”ê°€ë˜ëŠ”ê°€?"
YES â†’ í´ë˜ìŠ¤ ì„ íƒ

ì§ˆë¬¸ 2: "ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ ìì£¼ ì¶”ê°€ë˜ëŠ”ê°€?"
YES â†’ ADTë„ ê³ ë ¤ ê°€ëŠ¥

ì§ˆë¬¸ 3: "íƒ€ì…ë§ˆë‹¤ ë™ì‘ì´ ì™„ì „íˆ ë‹¤ë¥¸ê°€?"
YES â†’ í´ë˜ìŠ¤ ì„ íƒ

ì§ˆë¬¸ 4: "ëª¨ë“  íƒ€ì…ì´ ë™ì¼í•œ ë¡œì§ì„ ê³µìœ í•˜ëŠ”ê°€?"
YES â†’ ADTë„ ê°€ëŠ¥

ëŒ€ë¶€ë¶„ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸:
â†’ íƒ€ì… ì¶”ê°€ê°€ ë” ë¹ˆë²ˆ
â†’ í´ë˜ìŠ¤ (ê°ì²´ì§€í–¥) ì„ íƒ
```

---

## ğŸ” Stepë³„ ì½”ë“œ ì‹¤í–‰ ì¶”ì 

### Step 01 ì‹¤í–‰ íë¦„

```
main("ì§ì›A")
  â”œâ”€ getTaxRate()
  â”‚   â”œâ”€ print("ì„¸ìœ¨ì„ ì…ë ¥í•˜ì„¸ìš”: ")
  â”‚   â”œâ”€ gets() â†’ "0.1"
  â”‚   â””â”€ return 0.1
  â”‚
  â”œâ”€ calculatePayFor("ì§ì›A", 0.1)
  â”‚   â”œâ”€ $employees.index("ì§ì›A") â†’ 0
  â”‚   â”œâ”€ $basePays[0] â†’ 400
  â”‚   â”œâ”€ 400 - (400 * 0.1) â†’ 360
  â”‚   â””â”€ return 360
  â”‚
  â”œâ”€ describeResult("ì§ì›A", 360)
  â”‚   â””â”€ return "ì´ë¦„ : ì§ì›A, ê¸‰ì—¬ : 360"
  â”‚
  â””â”€ puts("ì´ë¦„ : ì§ì›A, ê¸‰ì—¬ : 360")

ì¶œë ¥: ì´ë¦„ : ì§ì›A, ê¸‰ì—¬ : 360
```

---

### Step 03 ì‹¤í–‰ íë¦„ (ì•„ë¥´ë°”ì´íŠ¸)

```
main(:pay, name:"ì•„ë¥´ë°”ì´íŠ¸F")
  â”œâ”€ calculatePay("ì•„ë¥´ë°”ì´íŠ¸F")
  â”‚   â”œâ”€ getTaxRate() â†’ 0.1
  â”‚   â”‚
  â”‚   â”œâ”€ hourly?("ì•„ë¥´ë°”ì´íŠ¸F")
  â”‚   â”‚   â”œâ”€ $employees.index("ì•„ë¥´ë°”ì´íŠ¸F") â†’ 5
  â”‚   â”‚   â”œâ”€ $hourlys[5] â†’ true
  â”‚   â”‚   â””â”€ return true
  â”‚   â”‚
  â”‚   â”œâ”€ calculateHourlyPayFor("ì•„ë¥´ë°”ì´íŠ¸F", 0.1)
  â”‚   â”‚   â”œâ”€ index = 5
  â”‚   â”‚   â”œâ”€ basePay = $basePays[5] = 1.5
  â”‚   â”‚   â”œâ”€ timeCard = $timeCards[5] = 120
  â”‚   â”‚   â”œâ”€ 1.5 * 120 = 180
  â”‚   â”‚   â”œâ”€ 180 - (180 * 0.1) = 162
  â”‚   â”‚   â””â”€ return 162
  â”‚   â”‚
  â”‚   â”œâ”€ describeResult("ì•„ë¥´ë°”ì´íŠ¸F", 162)
  â”‚   â””â”€ puts("ì´ë¦„ : ì•„ë¥´ë°”ì´íŠ¸F, ê¸‰ì—¬ : 162")
  â”‚
  â””â”€ ì¶œë ¥: ì´ë¦„ : ì•„ë¥´ë°”ì´íŠ¸F, ê¸‰ì—¬ : 162
```

---

### Step 06 ì‹¤í–‰ íë¦„ (ë‹¤í˜•ì„±)

```
calculatePay("ì•„ë¥´ë°”ì´íŠ¸F")
  â”œâ”€ getTaxRate() â†’ 0.1
  â”‚
  â”œâ”€ for each in $employees
  â”‚   â”œâ”€ each = SalariedEmployee("ì§ì›A") â†’ skip
  â”‚   â”œâ”€ each = SalariedEmployee("ì§ì›B") â†’ skip
  â”‚   â”œâ”€ each = SalariedEmployee("ì§ì›C") â†’ skip
  â”‚   â”œâ”€ each = HourlyEmployee("ì•„ë¥´ë°”ì´íŠ¸D") â†’ skip
  â”‚   â”œâ”€ each = HourlyEmployee("ì•„ë¥´ë°”ì´íŠ¸E") â†’ skip
  â”‚   â””â”€ each = HourlyEmployee("ì•„ë¥´ë°”ì´íŠ¸F") â†’ match!
  â”‚       â””â”€ employee = HourlyEmployee ì¸ìŠ¤í„´ìŠ¤
  â”‚
  â”œâ”€ employee.calculatePay(0.1)
  â”‚   â”œâ”€ [ë‹¤í˜•ì„±] HourlyEmployee.calculatePay() í˜¸ì¶œ
  â”‚   â”œâ”€ basePay = 1.5
  â”‚   â”œâ”€ timeCard = 120
  â”‚   â”œâ”€ 1.5 * 120 = 180
  â”‚   â”œâ”€ 180 - (180 * 0.1) = 162
  â”‚   â””â”€ return 162
  â”‚
  â”œâ”€ describeResult("ì•„ë¥´ë°”ì´íŠ¸F", 162)
  â””â”€ puts("ì´ë¦„ : ì•„ë¥´ë°”ì´íŠ¸F, ê¸‰ì—¬ : 162")

í•µì‹¬: ifë¬¸ ì—†ì´ ë‹¤í˜•ì„±ìœ¼ë¡œ ìë™ ì„ íƒ!
```

---

## ğŸ’¡ í•µì‹¬ í†µì°°

### ê°œë°©-íì‡„ ì›ì¹™ (OCP)

> **Open-Closed Principle**: í™•ì¥ì—ëŠ” ì—´ë ¤ìˆê³ , ìˆ˜ì •ì—ëŠ” ë‹«í˜€ìˆì–´ì•¼ í•œë‹¤

```
ADT (Step 05):
ìƒˆ íƒ€ì… ì¶”ê°€ â†’ ifë¬¸ ìˆ˜ì • í•„ìš” âŒ

í´ë˜ìŠ¤ (Step 06):
ìƒˆ íƒ€ì… ì¶”ê°€ â†’ ìƒˆ í´ë˜ìŠ¤ë§Œ ì¶”ê°€ âœ…

ì˜ˆì‹œ:
$employees << ContractEmployee.new("ê³„ì•½ì§G", 250)
# ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ì—†ì´ ë™ì‘!
```

---

### íƒ€ì… ì²´í¬ì˜ ëƒ„ìƒˆ

```
í´ë˜ìŠ¤ê°€ ì¶”ìƒ ë°ì´í„° íƒ€ì…ì„ ë”°ë¥´ëŠ”ì§€ í™•ì¸:

âŒ ë‚˜ìœ ì‹ í˜¸:
if (employee.type == "ì •ê·œì§") then ...
if (employee.isHourly()) then ...
switch (employee.getType()) ...

âœ… ì¢‹ì€ ì‹ í˜¸:
employee.calculatePay()  # ë‹¤í˜•ì„±
employee.monthlyBasePay()  # ë‹¤í˜•ì„±
```

**ê·œì¹™**: í´ë˜ìŠ¤ ë‚´ë¶€ì— íƒ€ì… ë³€ìˆ˜ê°€ ìˆë‹¤ë©´ ê°ì²´ì§€í–¥ì´ ì•„ë‹ˆë‹¤!

---

### í˜‘ë ¥ì´ ì¤‘ìš”í•˜ë‹¤

```
ì˜ëª»ëœ ì ‘ê·¼:
1. ì§ì› í´ë˜ìŠ¤ ì„¤ê³„
2. íƒ€ì…ë³„ë¡œ ë¶„ë¦¬ (ì •ê·œì§/ì•„ë¥´ë°”ì´íŠ¸)
3. ê°ê° ë©”ì„œë“œ êµ¬í˜„

ì˜¬ë°”ë¥¸ ì ‘ê·¼:
1. í˜‘ë ¥ íŒŒì•…: "ê¸‰ì—¬ë¥¼ ê³„ì‚°í•´ì•¼ í•œë‹¤"
2. ì±…ì„ í• ë‹¹: "Employeeê°€ ê¸‰ì—¬ ê³„ì‚°"
3. ë‹¤ì–‘í•œ ë°©ì‹ í•„ìš” â†’ ë‹¤í˜•ì„± ì ìš©

ê°ì²´ì§€í–¥ì€ í˜‘ë ¥ì„ ì„¤ê³„í•˜ëŠ” ê²ƒ!
íƒ€ì… ë¶„í•´ëŠ” ë„êµ¬ì¼ ë¿!
```

---

## â“ ìì£¼ í•˜ëŠ” ì§ˆë¬¸

### Q1. ëª¨ë“ˆê³¼ í´ë˜ìŠ¤ì˜ ì°¨ì´ëŠ”?

**A**:

```
ëª¨ë“ˆ (Step 04):
- ë°ì´í„° + í•¨ìˆ˜ë¥¼ í•˜ë‚˜ë¡œ ë¬¶ìŒ
- ì¸ìŠ¤í„´ìŠ¤ ê°œë… ì—†ìŒ
- ì •ì  ë©”ì„œë“œë§Œ ì œê³µ
- ì˜ˆ: Employees.calculatePay("ì§ì›A", 0.1)

í´ë˜ìŠ¤ (Step 06):
- ë°ì´í„° + ë©”ì„œë“œë¥¼ í•˜ë‚˜ë¡œ ë¬¶ìŒ
- ì¸ìŠ¤í„´ìŠ¤ ê°œë… ìˆìŒ
- ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ ì œê³µ
- ì˜ˆ: employee.calculatePay(0.1)

í•µì‹¬ ì°¨ì´: ì¸ìŠ¤í„´ìŠ¤!
```

---

### Q2. ADTëŠ” ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?

**A**:

```
ADTê°€ ìœ ë¦¬í•œ ê²½ìš°:
1. íƒ€ì…ì´ ê³ ì •ë˜ì–´ ìˆìŒ
2. ì˜¤í¼ë ˆì´ì…˜ì´ ìì£¼ ì¶”ê°€ë¨
3. ëª¨ë“  íƒ€ì…ì´ í•œ ê³³ì— ìˆì–´ì•¼ ì´í•´í•˜ê¸° ì‰¬ì›€

ì˜ˆ: ìˆ˜í•™ ë¼ì´ë¸ŒëŸ¬ë¦¬
- Vector, Matrix, Quaternion (íƒ€ì… ê³ ì •)
- add, multiply, normalize (ì˜¤í¼ë ˆì´ì…˜ ì¶”ê°€)
- ëª¨ë“  ì—°ì‚°ì„ í•œëˆˆì— ë³´ê³  ì‹¶ìŒ

í´ë˜ìŠ¤ê°€ ìœ ë¦¬í•œ ê²½ìš°:
1. íƒ€ì…ì´ ìì£¼ ì¶”ê°€ë¨
2. ì˜¤í¼ë ˆì´ì…˜ì´ ìƒëŒ€ì ìœ¼ë¡œ ì•ˆì •ì 
3. íƒ€ì…ë§ˆë‹¤ ì™„ì „íˆ ë‹¤ë¥¸ êµ¬í˜„

ì˜ˆ: ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸
- ì§ì› íƒ€ì…, ì£¼ë¬¸ íƒ€ì… (ê³„ì† ì¶”ê°€)
- calculateTotal, validate (ë¹„êµì  ì•ˆì •)
```

---

### Q3. ìƒì†ì€ í•­ìƒ ì¢‹ì€ê°€ìš”?

**A**:

```
ìƒì†ì˜ ë¬¸ì œì :
1. ê°•í•œ ê²°í•©
   - ë¶€ëª¨ ë³€ê²½ â†’ ëª¨ë“  ìì‹ ì˜í–¥

2. ë¶ˆí•„ìš”í•œ ë©”ì„œë“œ ìƒì†
   - "is-a" ê´€ê³„ê°€ ì•„ë‹Œ ê²½ìš° ë¬¸ì œ

3. ë‹¤ì¤‘ ìƒì† ë¶ˆê°€
   - ì—¬ëŸ¬ ì—­í• ì„ ë™ì‹œì— ìˆ˜í–‰í•˜ê¸° ì–´ë ¤ì›€

ëŒ€ì•ˆ: ì»´í¬ì§€ì…˜ (Composition)
- "has-a" ê´€ê³„
- ìœ ì—°í•œ ì¡°í•©
- ëŠìŠ¨í•œ ê²°í•©

ê·œì¹™:
- ìƒì†ì€ íƒ€ì… ê³„ì¸µì´ ëª…í™•í•  ë•Œë§Œ
- í–‰ë™ì„ ê³µìœ í•˜ë ¤ë©´ ì»´í¬ì§€ì…˜ ê³ ë ¤
- "is-a"ì¸ì§€ í•­ìƒ í™•ì¸
```

---

### Q4. ê¸°ëŠ¥ ë¶„í•´ëŠ” ì™„ì „íˆ ë‚˜ìœê°€ìš”?

**A**:

```
ê¸°ëŠ¥ ë¶„í•´ê°€ ìœ ìš©í•œ ê²½ìš°:
âœ… ì‘ì€ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
âœ… ì´ë¯¸ í•´ê²°ëœ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì„œí™”
âœ… í•œ ë²ˆ ì‘ì„±í•˜ê³  ë³€ê²½ ì—†ëŠ” ìŠ¤í¬ë¦½íŠ¸

ì˜ˆì‹œ:
def calculateTax(amount, rate)
  return amount * rate
end

def formatCurrency(amount)
  return "$#{amount.round(2)}"
end

â†’ ê°„ë‹¨í•˜ê³  ì¬ì‚¬ìš© ê°€ëŠ¥
â†’ ë³€ê²½ë  ê°€ëŠ¥ì„± ë‚®ìŒ
â†’ í•¨ìˆ˜ë¡œ ì¶©ë¶„!

ê¸°ëŠ¥ ë¶„í•´ê°€ ë¬¸ì œê°€ ë˜ëŠ” ê²½ìš°:
âŒ ëŒ€ê·œëª¨ ì‹œìŠ¤í…œ
âŒ ë¹ˆë²ˆí•œ ìš”êµ¬ì‚¬í•­ ë³€ê²½
âŒ ë³µì¡í•œ ë„ë©”ì¸ ë¡œì§

â†’ ì´ ê²½ìš° ê°ì²´ì§€í–¥ í•„ìš”
```

---

## ğŸš€ ì‹¤ì „ ì ìš© ê°€ì´ë“œ

### Step-by-Step ë¦¬íŒ©í„°ë§

**í˜„ì¬ ì½”ë“œê°€ Step 03ê³¼ ë¹„ìŠ·í•˜ë‹¤ë©´?**

```
1ë‹¨ê³„: ëª¨ë“ˆ ì¶”ì¶œ (Step 04)
   - ê´€ë ¨ ë°ì´í„°ì™€ í•¨ìˆ˜ë¥¼ ëª¨ë“ˆë¡œ ë¬¶ê¸°
   - í¼ë¸”ë¦­ ì¸í„°í˜ì´ìŠ¤ ì •ì˜
   - ì˜ˆìƒ ì‹œê°„: 1-2ì¼

2ë‹¨ê³„: ADT ë„ì… (Step 05)
   - ë³‘ë ¬ ë°°ì—´ì„ êµ¬ì¡°ì²´ë¡œ ë³€í™˜
   - ì˜¤í¼ë ˆì´ì…˜ ë©”ì„œë“œ ì¶”ê°€
   - ì˜ˆìƒ ì‹œê°„: 2-3ì¼

3ë‹¨ê³„: í´ë˜ìŠ¤ë¡œ ì „í™˜ (Step 06)
   - íƒ€ì…ë³„ë¡œ í´ë˜ìŠ¤ ë¶„ë¦¬
   - ë‹¤í˜•ì„± ì ìš©
   - ì¡°ê±´ë¬¸ ì œê±°
   - ì˜ˆìƒ ì‹œê°„: 3-5ì¼

ì´ ì˜ˆìƒ ì‹œê°„: 1-2ì£¼
â†’ ì ì§„ì  ê°œì„ ì´ í•µì‹¬!
```

---

### ë ˆê±°ì‹œ ì½”ë“œ ê°œì„  ì „ëµ

```
ì‹œë‚˜ë¦¬ì˜¤: 5000ì¤„ì˜ ì ˆì°¨ì  ì½”ë“œ

âŒ ë‚˜ìœ ì ‘ê·¼:
"ì „ì²´ë¥¼ ê°ì²´ì§€í–¥ìœ¼ë¡œ ì¬ì‘ì„±!"
â†’ ìœ„í—˜ë„ ë†’ìŒ
â†’ ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ ì—†ìŒ

âœ… ì¢‹ì€ ì ‘ê·¼:
1. Boy Scout Rule
   - ìˆ˜ì •í•  ë•Œë§ˆë‹¤ ì¡°ê¸ˆì”© ê°œì„ 

2. Strangler Fig Pattern
   - ìƒˆ ê¸°ëŠ¥ì€ ê°ì²´ì§€í–¥ìœ¼ë¡œ
   - ê¸°ì¡´ ì½”ë“œëŠ” ì ì§„ì  êµì²´

3. í•µì‹¬ë¶€í„° ê°œì„ 
   - ìì£¼ ë³€ê²½ë˜ëŠ” ë¶€ë¶„ ìš°ì„ 
   - ì•ˆì •ì ì¸ ë¶€ë¶„ì€ ë‚˜ì¤‘ì—

ì˜ˆì‹œ:
Week 1: ì§ì› íƒ€ì… ë¶€ë¶„ë§Œ í´ë˜ìŠ¤ë¡œ
Week 2: ê¸‰ì—¬ ê³„ì‚° ë¡œì§ ê°œì„ 
Week 3: ë³´ê³ ì„œ ìƒì„± ë¶€ë¶„ ë¦¬íŒ©í„°ë§
...

6ê°œì›” í›„: 90% ê°œì„ 
```

---

## ğŸ“š ë” ì½ì–´ë³´ê¸°

### ì¶”ì²œ ìë£Œ

```
1. "Refactoring" - Martin Fowler
   â†’ Replace Type Code with Class
   â†’ Replace Type Code with Subclasses
   â†’ ì‹¤ì „ ë¦¬íŒ©í„°ë§ ê¸°ë²•

2. "Working Effectively with Legacy Code" - Michael Feathers
   â†’ ë ˆê±°ì‹œ ì½”ë“œ ë‹¤ë£¨ê¸°
   â†’ ì˜ì¡´ì„± ê¹¨ê¸°
   â†’ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ê¸°

3. "Design Patterns" - Gang of Four
   â†’ Strategy íŒ¨í„´ (í–‰ë™ ìº¡ìŠí™”)
   â†’ Template Method (ì•Œê³ ë¦¬ì¦˜ ê³¨ê²©)
   â†’ Factory íŒ¨í„´ (ê°ì²´ ìƒì„±)

4. "Domain-Driven Design" - Eric Evans
   â†’ ë„ë©”ì¸ ëª¨ë¸ ì„¤ê³„
   â†’ Aggregate íŒ¨í„´
   â†’ Repository íŒ¨í„´
```

---

### ê´€ë ¨ ê°œë…

```
SRP (Single Responsibility Principle)
- í•˜ë‚˜ì˜ ë³€ê²½ ì´ìœ ë§Œ
- Step 04 ëª¨ë“ˆì´ ì ìš©í•œ ì›ì¹™

OCP (Open-Closed Principle)
- í™•ì¥ì— ì—´ë ¤ìˆê³  ìˆ˜ì •ì— ë‹«í˜€ìˆìŒ
- Step 06 í´ë˜ìŠ¤ê°€ ë‹¬ì„±í•œ ëª©í‘œ

LSP (Liskov Substitution Principle)
- ë¶€ëª¨ íƒ€ì…ì„ ìì‹ íƒ€ì…ìœ¼ë¡œ ëŒ€ì²´ ê°€ëŠ¥
- Step 06 ìƒì† êµ¬ì¡°ì˜ ì „ì œ ì¡°ê±´

ISP (Interface Segregation Principle)
- í´ë¼ì´ì–¸íŠ¸ë³„ë¡œ ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬
- ë¶ˆí•„ìš”í•œ ì˜ì¡´ì„± ì œê±°

DIP (Dependency Inversion Principle)
- ì¶”ìƒí™”ì— ì˜ì¡´
- êµ¬ì²´ í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ì§€ ì•Šê¸°
```

---

## ğŸ“ ìµœì¢… ìš”ì•½

### ì§„í™”ì˜ í•µì‹¬

```
Step 01-03: ë¬¸ì œ ë°œê²¬
- í•˜í–¥ì‹ ê¸°ëŠ¥ ë¶„í•´ì˜ í•œê³„
- ì „ì—­ ë°ì´í„°ì˜ ë¬¸ì œ
- ë³€ê²½ì˜ íŒŒê¸‰íš¨ê³¼

Step 04: ì²« ë²ˆì§¸ í•´ê²°ì±…
- ëª¨ë“ˆê³¼ ì •ë³´ ì€ë‹‰
- ë³€ê²½ì˜ ìº¡ìŠí™”
- ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬

Step 05: ë‘ ë²ˆì§¸ í•´ê²°ì±…
- ì¶”ìƒ ë°ì´í„° íƒ€ì…
- ì¸ìŠ¤í„´ìŠ¤ ê°œë…
- íƒ€ì… ì¶”ìƒí™”

Step 06: ìµœì¢… í•´ê²°ì±…
- ê°ì²´ì§€í–¥ê³¼ í´ë˜ìŠ¤
- ë‹¤í˜•ì„±ê³¼ ìƒì†
- í”„ë¡œì‹œì € ì¶”ìƒí™”
```

---

### ì„¤ê³„ ê²°ì • ì²´í¬ë¦¬ìŠ¤íŠ¸

```
â–¡ ë°ì´í„°ì™€ í•¨ìˆ˜ê°€ í•¨ê»˜ ë³€ê²½ë˜ëŠ”ê°€?
  YES â†’ ëª¨ë“ˆ/í´ë˜ìŠ¤ë¡œ ë¬¶ê¸°

â–¡ ê°œë³„ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë‹¤ë¤„ì•¼ í•˜ëŠ”ê°€?
  YES â†’ ADT ë˜ëŠ” í´ë˜ìŠ¤

â–¡ íƒ€ì…ì´ ìì£¼ ì¶”ê°€ë˜ëŠ”ê°€?
  YES â†’ í´ë˜ìŠ¤ ì„ íƒ

â–¡ íƒ€ì…ë³„ë¡œ ë™ì‘ì´ ì™„ì „íˆ ë‹¤ë¥¸ê°€?
  YES â†’ ë‹¤í˜•ì„± ì ìš©

â–¡ ë³€ê²½ì´ ê±°ì˜ ì—†ëŠ” ë‹¨ìˆœ ë¡œì§ì¸ê°€?
  YES â†’ í•¨ìˆ˜ë¡œë„ ì¶©ë¶„

â–¡ í˜‘ë ¥ì„ ì„¤ê³„í–ˆëŠ”ê°€?
  NO â†’ ë¨¼ì € í˜‘ë ¥ ì„¤ê³„!
```

---

### ë§ˆì§€ë§‰ ì¡°ì–¸

```
ê°ì²´ì§€í–¥ì€ ëª©ì ì´ ì•„ë‹ˆë¼ ìˆ˜ë‹¨:

ëª©ì : ë³€ê²½ì— ìœ ì—°í•œ ì‹œìŠ¤í…œ
ìˆ˜ë‹¨: ìº¡ìŠí™”, ì¶”ìƒí™”, ë‹¤í˜•ì„±

"ê°ì²´ì§€í–¥ì„ ìœ„í•œ ê°ì²´ì§€í–¥"ì€ ê¸ˆë¬¼
"ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ ê°ì²´ì§€í–¥"ì„ í•˜ì

í•µì‹¬ì€ í•­ìƒ:
1. ë³€ê²½ì„ ê´€ë¦¬í•˜ë¼
2. ë³µì¡ë„ë¥¼ ë‚®ì¶°ë¼
3. í˜‘ë ¥ì„ ì„¤ê³„í•˜ë¼
```

---

## ğŸ“– Chapter ì •ë¦¬

### ê¸‰ì—¬ ì‹œìŠ¤í…œ ì™„ì „ ì§„í™”ë„

```
[Step 01] ìˆœìˆ˜ ê¸°ëŠ¥ ë¶„í•´
    â†“ ë¬¸ì œ: ë‹¨ì¼ ê¸°ëŠ¥ë§Œ ì§€ì›
[Step 02] Operation íŒ¨í„´
    â†“ ë¬¸ì œ: main() ê³„ì† ìˆ˜ì •
[Step 03] íƒ€ì… ì¶”ê°€ (ë³‘ë ¬ ë°°ì—´)
    â†“ ë¬¸ì œ: ë°ì´í„° ë™ê¸°í™”, íƒ€ì… ì²´í¬ ë²”ëŒ
[Step 04] ëª¨ë“ˆ (ì •ë³´ ì€ë‹‰)
    â†“ ë¬¸ì œ: ì¸ìŠ¤í„´ìŠ¤ ê°œë… ë¶€ì¡±
[Step 05] ì¶”ìƒ ë°ì´í„° íƒ€ì…
    â†“ ë¬¸ì œ: ifë¬¸ìœ¼ë¡œ íƒ€ì… êµ¬ë¶„
[Step 06] í´ë˜ìŠ¤ (ë‹¤í˜•ì„±)
    âœ… ë¬¸ì œ í•´ê²°!
```

---

### ë‹¤ìŒ Chapter ì˜ˆê³ 

```
Chapter 08: ì˜ì¡´ì„± ê´€ë¦¬í•˜ê¸°

- ì˜ì¡´ì„±ì˜ ì¢…ë¥˜ì™€ ë¬¸ì œ
- ì˜ì¡´ì„± ë°©í–¥ê³¼ ì•ˆì •ì„±
- ì˜ì¡´ì„± ì—­ì „ ì›ë¦¬ (DIP)
- ìœ ì—°í•œ ì„¤ê³„ ê¸°ë²•
```

---

## âš ï¸ í•˜í–¥ì‹ ê¸°ëŠ¥ ë¶„í•´ì˜ 5ê°€ì§€ ì¹˜ëª…ì  ë¬¸ì œì 

### ë¬¸ì œ 1: í•˜ë‚˜ì˜ ë©”ì¸ í•¨ìˆ˜ë¼ëŠ” í™˜ìƒ

> **"ì‹¤ì œ ì‹œìŠ¤í…œì— ì •ìƒ(top)ì´ë€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤"** - Parnas

```
ì´ë¡ :
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   main()        â”‚  â† ëª¨ë“  ê²ƒì˜ ì‹œì‘ì 
â”‚                 â”‚
â”‚  ì‹œìŠ¤í…œ ì „ì²´       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

í˜„ì‹¤:
â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚main1 â”‚  â”‚main2 â”‚  â”‚main3 â”‚  â”‚main4 â”‚
â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜
    â†“         â†“         â†“         â†“
   ê¸‰ì—¬      ë³´ê³ ì„œ       í†µê³„       ë°±ì—…
   ê³„ì‚°       ìƒì„±        ë¶„ì„       ì²˜ë¦¬

â†’ ì—¬ëŸ¬ ê°œì˜ ì§„ì…ì !
â†’ ë©”ì¸ í•¨ìˆ˜ëŠ” í•˜ë‚˜ê°€ ì•„ë‹ˆë‹¤!
```

---

#### ì‹¤ì œ ì‚¬ë¡€

**ì´ˆê¸° ë¦´ë¦¬ì¦ˆ**:
```ruby
# Version 1.0
def main(name)
  calculateAndPrintPay(name)
end
```

**6ê°œì›” í›„**:
```ruby
# Version 1.5
def main(operation, args)
  case operation
  when :pay then calculatePay(args[:name])
  when :report then generateReport()
  when :export then exportToExcel()
  when :backup then backupData()
  end
end
```

**1ë…„ í›„**:
```ruby
# Version 2.0
# main() í•¨ìˆ˜ê°€ ë„ˆë¬´ ì»¤ì ¸ì„œ ë¶„ë¦¬

def main_payroll(args)
  # ê¸‰ì—¬ ê´€ë ¨
end

def main_hr(args)
  # ì¸ì‚¬ ê´€ë ¨
end

def main_admin(args)
  # ê´€ë¦¬ ê´€ë ¨
end

# â†’ "í•˜ë‚˜ì˜ ë©”ì¸ í•¨ìˆ˜" ê°œë… ë¶•ê´´!
```

---

#### ì™œ ì´ëŸ° ì¼ì´ ìƒê¸°ëŠ”ê°€?

```
í•˜í–¥ì‹ ì„¤ê³„ì˜ ê°€ì •:
"ì‹œìŠ¤í…œì´ ìˆ˜í–‰í•´ì•¼ í•  í•˜ë‚˜ì˜ ì£¼ìš” ê¸°ëŠ¥ì´ ìˆë‹¤"

í˜„ì‹¤:
- ì‚¬ìš©ìëŠ” ê³„ì† ìƒˆë¡œìš´ ê¸°ëŠ¥ ìš”ì²­
- ë¹„ì¦ˆë‹ˆìŠ¤ëŠ” ê³„ì† ì§„í™”
- ì‹œìŠ¤í…œì€ ë‹¤ì–‘í•œ ìš©ë„ë¡œ ì‚¬ìš©ë¨

ê²°ê³¼:
â†’ ìµœì´ˆì˜ "ë©”ì¸ ê¸°ëŠ¥"ì€ ì ì  ì˜ë¯¸ ì—†ì–´ì§
â†’ ì‹œìŠ¤í…œ = ë™ë“±í•œ ìˆ˜ì¤€ì˜ ì—¬ëŸ¬ ê¸°ëŠ¥ë“¤
â†’ ê³„ì¸µ êµ¬ì¡° = í™˜ìƒ
```

---

### ë¬¸ì œ 2: ë©”ì¸ í•¨ìˆ˜ì˜ ë¹ˆë²ˆí•œ ìˆ˜ì •

> **Open-Closed Principle ìœ„ë°˜ì˜ ì „í˜•**

#### ë³€ê²½ ì‹œë‚˜ë¦¬ì˜¤ ì¶”ì 

**ì‹œë‚˜ë¦¬ì˜¤ 1**: ê¸°ë³¸ê¸‰ í•©ê³„ ê¸°ëŠ¥ ì¶”ê°€
```ruby
# Before
def main(name)
  taxRate = getTaxRate()
  pay = calculatePayFor(name, taxRate)
  puts(describeResult(name, pay))
end

# After - main() ìˆ˜ì • í•„ìš”!
def main(operation, args={})
  case(operation)
  when :pay then calculatePay(args[:name])
  when :basePays then sumOfBasePays()  # â† ì¶”ê°€
  end
end
```

**ì‹œë‚˜ë¦¬ì˜¤ 2**: ì§ì› ëª©ë¡ ì¡°íšŒ ê¸°ëŠ¥ ì¶”ê°€
```ruby
def main(operation, args={})
  case(operation)
  when :pay then calculatePay(args[:name])
  when :basePays then sumOfBasePays()
  when :list then listEmployees()  # â† ì¶”ê°€
  end
end
```

**ì‹œë‚˜ë¦¬ì˜¤ 3**: ì—°ê°„ ì´ ê¸‰ì—¬ ê³„ì‚° ì¶”ê°€
```ruby
def main(operation, args={})
  case(operation)
  when :pay then calculatePay(args[:name])
  when :basePays then sumOfBasePays()
  when :list then listEmployees()
  when :annual then calculateAnnualPay()  # â† ì¶”ê°€
  end
end
```

---

#### ë¬¸ì œì˜ ë³¸ì§ˆ

```
íŒ¨í„´:
ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ â†’ main() ìˆ˜ì • í•„ìš”
ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ â†’ main() ìˆ˜ì • í•„ìš”
ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ â†’ main() ìˆ˜ì • í•„ìš”
...

ê²°ê³¼:
1. main()ì´ ê³„ì† ì»¤ì§
2. ìˆ˜ì •í•  ë•Œë§ˆë‹¤ ë²„ê·¸ ìœ„í—˜
3. ëª¨ë“  ê°œë°œìê°€ main()ì„ ê±´ë“œë¦¼
4. ë³‘í•© ì¶©ëŒ (Merge Conflict)

ê·¼ë³¸ ì›ì¸:
"ê¸°ëŠ¥ ì¶”ê°€ = ê¸°ì¡´ ì½”ë“œ ìˆ˜ì •"
â†’ OCP ìœ„ë°˜!
```

---

#### ë²„ê·¸ ë°œìƒ ê°€ëŠ¥ì„±

```ruby
# ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ê¸°ëŠ¥ ì¶”ê°€
def main(operation, args={})
  case(operation)
  when :pay then calculatePay(args[:name])
  when :basePays then sumOfBasePays()
  when :list then listEmployees()
  when :annual then calculateAnnualPay()
  # ... 10ê°œ ë” ...
  end
end

# ğŸ˜± ì‹¤ìˆ˜ë¡œ ì˜¤íƒ€
def main(operation, args={})
  case(operation)
  when :pay then calculatePay(args[:name])
  when :basePays then sumOfBasePays()
  when :list then listEmployees()
  when :annual then calculateAnnualPay()
  when :export then exportData()
  whne :import then importData()  # â† ì˜¤íƒ€! when â†’ whne
  end
end

# ê²°ê³¼: import ê¸°ëŠ¥ ë™ì‘ ì•ˆ í•¨
# ì›ì¸ íŒŒì•…: ì–´ë ¤ì›€ (ì—ëŸ¬ ì—†ì´ ì¡°ìš©íˆ ì‹¤íŒ¨)
```

---

### ë¬¸ì œ 3: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ UIì˜ ê°•ê²°í•©

#### ì½”ë“œ ë¶„ì„

```ruby
def calculatePay(name)
  # UI Layer: ì‚¬ìš©ì ì…ë ¥
  print("ì„¸ìœ¨ì„ ì…ë ¥í•˜ì„¸ìš”: ")  # â† Console I/O
  taxRate = gets().chomp().to_f()  # â† Console I/O
  
  # Business Layer: ê³„ì‚°
  index = $employees.index(name)
  basePay = $basePays[index]
  pay = basePay - (basePay * taxRate)
  
  # UI Layer: ê²°ê³¼ ì¶œë ¥
  puts("ì´ë¦„ : #{name}, ê¸‰ì—¬ : #{pay}")  # â† Console I/O
end
```

**ê³„ì¸µì´ ì„ì—¬ìˆìŒ**:
```
calculatePay() ì•ˆì—:
- ì…ë ¥ (UI)
- ê³„ì‚° (Business)
- ì¶œë ¥ (UI)

â†’ 3ê°€ì§€ ê´€ì‹¬ì‚¬ê°€ í•˜ë‚˜ì˜ í•¨ìˆ˜ì—!
```

---

#### ë³€ê²½ ì‹œë‚˜ë¦¬ì˜¤ë³„ ì˜í–¥

**ì‹œë‚˜ë¦¬ì˜¤ 1**: ì›¹ ì¸í„°í˜ì´ìŠ¤ë¡œ ì „í™˜
```
ê¸°ì¡´: Console I/O
ëª©í‘œ: Web Form

í•„ìš”í•œ ë³€ê²½:
âŒ getTaxRate() - ì „ì²´ ì¬ì‘ì„±
âŒ calculatePay() - ì „ì²´ ì¬ì‘ì„±
âŒ describeResult() - ì „ì²´ ì¬ì‘ì„±

ì´ìœ : UIì™€ ë¡œì§ì´ ì„ì—¬ìˆì–´ì„œ
```

**ì‹œë‚˜ë¦¬ì˜¤ 2**: REST API ì œê³µ
```
ê¸°ì¡´: ì§ì ‘ ì¶œë ¥ (puts)
ëª©í‘œ: JSON ë°˜í™˜

í•„ìš”í•œ ë³€ê²½:
âŒ ëª¨ë“  í•¨ìˆ˜ì˜ ì¶œë ¥ ë¶€ë¶„ ì œê±°
âŒ ë°˜í™˜ ê°’ì„ JSONìœ¼ë¡œ ë³€í™˜
âŒ HTTP ì‘ë‹µ ì²˜ë¦¬ ì¶”ê°€

ì´ìœ : ì¶œë ¥ì´ ë¡œì§ì— ì„ì—¬ìˆì–´ì„œ
```

**ì‹œë‚˜ë¦¬ì˜¤ 3**: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
```
ë¬¸ì œ:
- getTaxRate()ê°€ ì‚¬ìš©ì ì…ë ¥ ëŒ€ê¸°
- í…ŒìŠ¤íŠ¸ ìë™í™” ë¶ˆê°€ëŠ¥

í•´ê²°ì±…:
- ëª¨ë“  I/Oë¥¼ mockí•´ì•¼ í•¨
- ë³µì¡í•˜ê³  ê¹¨ì§€ê¸° ì‰¬ìš´ í…ŒìŠ¤íŠ¸

ì´ìœ : í…ŒìŠ¤íŠ¸ ë¶ˆê°€ëŠ¥í•œ ì„¤ê³„
```

---

#### ì˜¬ë°”ë¥¸ ë¶„ë¦¬

```ruby
# âœ… ì˜¬ë°”ë¥¸ ë¶„ë¦¬
# Business Layer - ìˆœìˆ˜ í•¨ìˆ˜
def calculatePayFor(name, taxRate)
  index = $employees.index(name)
  basePay = $basePays[index]
  return basePay - (basePay * taxRate)
end

# UI Layer - Console
def console_calculatePay(name)
  taxRate = console_getTaxRate()
  pay = calculatePayFor(name, taxRate)
  console_displayResult(name, pay)
end

# UI Layer - Web
def web_calculatePay(name, taxRate)
  pay = calculatePayFor(name, taxRate)
  return {name: name, pay: pay}.to_json
end

# UI Layer - Test
def test_calculatePay()
  pay = calculatePayFor("ì§ì›A", 0.1)
  assert_equal(360, pay)
end
```

---

### ë¬¸ì œ 4: ì„±ê¸‰í•œ ì‹¤í–‰ ìˆœì„œ ê²°ì •

> **"ì–´ë–»ê²Œ(how)"ê°€ "ë¬´ì—‡ì„(what)"ë³´ë‹¤ ì•ì„œë©´ ì•ˆ ëœë‹¤**

#### ì œì–´ êµ¬ì¡°ì˜ ì¡°ê¸° ê²°ì •

```ruby
def calculatePay(name)
  # 1. ìˆœì„œ ê³ ì •: í•­ìƒ ì…ë ¥ë¶€í„°
  taxRate = getTaxRate()
  
  # 2. ìˆœì„œ ê³ ì •: ê·¸ ë‹¤ìŒ ê³„ì‚°
  pay = calculatePayFor(name, taxRate)
  
  # 3. ìˆœì„œ ê³ ì •: ë§ˆì§€ë§‰ ì¶œë ¥
  puts(describeResult(name, pay))
end
```

**ë¬¸ì œ**:
```
ë§Œì•½:
- ì„¸ìœ¨ì„ ë¯¸ë¦¬ ì•Œê³  ìˆë‹¤ë©´?
- ì—¬ëŸ¬ ì§ì›ì„ í•œ ë²ˆì— ê³„ì‚°í•œë‹¤ë©´?
- ê²°ê³¼ë¥¼ íŒŒì¼ì— ì €ì¥í•œë‹¤ë©´?
- ê³„ì‚° í›„ ì¶”ê°€ ì²˜ë¦¬ê°€ í•„ìš”í•˜ë‹¤ë©´?

â†’ ëª¨ë‘ í•¨ìˆ˜ ìˆ˜ì • í•„ìš”!
â†’ ì¬ì‚¬ìš© ë¶ˆê°€ëŠ¥!
```

---

#### ì¤‘ì•™ì§‘ì¤‘ ì œì–´ì˜ ë¬¸ì œ

```ruby
# ëª¨ë“  ì œì–´ê°€ ìƒìœ„ í•¨ìˆ˜ì— ì§‘ì¤‘
def processPayroll()
  # Step 1: ì¤€ë¹„
  loadEmployeeData()
  
  # Step 2: ì²˜ë¦¬ (ìˆœì„œ ê³ ì •!)
  for name in $employees
    # Step 2-1: ì…ë ¥
    taxRate = getTaxRate()
    
    # Step 2-2: ê³„ì‚°
    pay = calculatePayFor(name, taxRate)
    
    # Step 2-3: ì¶œë ¥
    puts(describeResult(name, pay))
    
    # Step 2-4: ì €ì¥
    saveToDatabase(name, pay)
  end
  
  # Step 3: ì •ë¦¬
  generateReport()
end
```

**í•˜ìœ„ í•¨ìˆ˜ì˜ ìš´ëª…**:
```
calculatePayFor():
- ì–¸ì œ í˜¸ì¶œë ì§€ ì •í•´ì§ (Step 2-2)
- ë¬´ì—‡ê³¼ í•¨ê»˜ í˜¸ì¶œë ì§€ ì •í•´ì§ (getTaxRate, describeResult)
- ì–´ë–¤ ìˆœì„œë¡œ í˜¸ì¶œë ì§€ ì •í•´ì§ (ê³ ì •ëœ ë£¨í”„)

â†’ ìƒìœ„ í•¨ìˆ˜ì˜ ë¬¸ë§¥ì— ê°•í•˜ê²Œ ì¢…ì†
â†’ ë‹¤ë¥¸ ë¬¸ë§¥ì—ì„œ ì¬ì‚¬ìš© ë¶ˆê°€
â†’ ìœ ì—°ì„± ì œë¡œ
```

---

#### ì¬ì‚¬ìš©ì„± ë¹„êµ

**í•˜í–¥ì‹ ì„¤ê³„**:
```ruby
# âŒ ì¬ì‚¬ìš© ì–´ë ¤ì›€
def calculatePayAndPrint(name)
  taxRate = getTaxRate()
  pay = calculatePayFor(name, taxRate)
  puts(describeResult(name, pay))
end

# ë‹¤ë¥¸ ê³³ì—ì„œ ì‚¬ìš©í•˜ë ¤ë©´?
# â†’ calculatePayAndPrintë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜
# â†’ ìƒˆë¡œìš´ í•¨ìˆ˜ ì‘ì„±
```

**ê°ì²´ì§€í–¥ ì„¤ê³„**:
```ruby
# âœ… ì¬ì‚¬ìš© ì‰¬ì›€
employee = Employee.new("ì§ì›A", 400)

# ìƒí™© 1: Console ì¶œë ¥
pay1 = employee.calculatePay(0.1)
puts "ê¸‰ì—¬: #{pay1}"

# ìƒí™© 2: Web ì‘ë‹µ
pay2 = employee.calculatePay(0.15)
render json: {pay: pay2}

# ìƒí™© 3: Batch ì²˜ë¦¬
employees.each do |emp|
  pay = emp.calculatePay(taxRate)
  savePay(emp, pay)
end

# â†’ ê°™ì€ ë©”ì„œë“œ, ë‹¤ì–‘í•œ ë¬¸ë§¥!
```

---

### ë¬¸ì œ 5: ë°ì´í„° ë³€ê²½ì˜ íŒŒê¸‰íš¨ê³¼

> **"ì „ì—­ ë³€ìˆ˜ = ë³€ê²½ì˜ ê³µí¬"**

#### ë°ì´í„° ì˜ì¡´ì„± ì¶”ì ì˜ ì–´ë ¤ì›€

```ruby
# ì „ì—­ ë°ì´í„°
$employees = ["ì§ì›A", "ì§ì›B", "ì§ì›C"]
$basePays = [400, 300, 250]
$hourlys = [false, false, false]
$timeCards = [0, 0, 0]

# ì§ˆë¬¸: $basePaysë¥¼ ìˆ˜ì •í•˜ë©´ ì–´ë–¤ í•¨ìˆ˜ê°€ ì˜í–¥ì„ ë°›ì„ê¹Œ?

# ë‹µ: ì¼ì¼ì´ ì°¾ì•„ë´ì•¼ í•¨...
def calculatePayFor(name, taxRate)
  basePay = $basePays[...]  # â† ì˜í–¥ë°›ìŒ
end

def sumOfBasePays()
  for basePay in $basePays  # â† ì˜í–¥ë°›ìŒ
    ...
  end
end

def averageBasePay()
  sum = 0
  for pay in $basePays  # â† ì˜í–¥ë°›ìŒ
    sum += pay
  end
  return sum / $basePays.length  # â† ì—¬ê¸°ë„!
end

def exportBasePays()
  File.write("pays.csv", $basePays.join(","))  # â† ì˜í–¥ë°›ìŒ
end

# â†’ ì „ì²´ ì½”ë“œë¥¼ ê²€ìƒ‰í•´ì•¼ë§Œ ì•Œ ìˆ˜ ìˆìŒ!
```

---

#### ì‹¤ì œ ë³€ê²½ ì‹œë‚˜ë¦¬ì˜¤

**ì‹œë‚˜ë¦¬ì˜¤**: basePaysë¥¼ ë°°ì—´ì—ì„œ Hashë¡œ ë³€ê²½

```ruby
# Before
$employees = ["ì§ì›A", "ì§ì›B", "ì§ì›C"]
$basePays = [400, 300, 250]

def calculatePayFor(name, taxRate)
  index = $employees.index(name)
  basePay = $basePays[index]  # Array ì ‘ê·¼
  return basePay - (basePay * taxRate)
end

# After
$basePays = {
  "ì§ì›A" => 400,
  "ì§ì›B" => 300,
  "ì§ì›C" => 250
}

def calculatePayFor(name, taxRate)
  basePay = $basePays[name]  # Hash ì ‘ê·¼
  return basePay - (basePay * taxRate)
end
```

**ì˜í–¥ë°›ëŠ” ëª¨ë“  ê³³**:
```
âœ… calculatePayFor() - ìˆ˜ì • ì™„ë£Œ
âŒ calculateHourlyPayFor() - ì•„ì§ Array ì ‘ê·¼!
âŒ sumOfBasePays() - ì•„ì§ Array ì ‘ê·¼!
âŒ averageBasePay() - ì•„ì§ Array ì ‘ê·¼!
âŒ exportBasePays() - ì•„ì§ Array ì ‘ê·¼!
âŒ printAllPays() - ì•„ì§ Array ì ‘ê·¼!
...

â†’ ë†“ì¹œ ê³³ì—ì„œ ëŸ°íƒ€ì„ ì—ëŸ¬!
â†’ ë””ë²„ê¹… ì§€ì˜¥!
```

---

#### ì˜ì¡´ì„± ê·¸ë˜í”„ì˜ ë³µì¡ë„

```
ì „ì—­ ë³€ìˆ˜ ì‹œìŠ¤í…œ:

$employees â†â”€â”¬â”€ calculatePayFor()
             â”œâ”€ sumOfBasePays()
             â”œâ”€ listEmployees()
             â”œâ”€ findEmployee()
             â”œâ”€ addEmployee()
             â”œâ”€ removeEmployee()
             â”œâ”€ exportEmployees()
             â””â”€ ... (20ê°œ ì´ìƒ)

$basePays â†â”€â”¬â”€ calculatePayFor()
            â”œâ”€ calculateHourlyPayFor()
            â”œâ”€ sumOfBasePays()
            â”œâ”€ averageBasePay()
            â”œâ”€ maxBasePay()
            â”œâ”€ minBasePay()
            â”œâ”€ exportBasePays()
            â””â”€ ... (15ê°œ ì´ìƒ)

â†’ ë³€ê²½ ì˜í–¥ íŒŒì•… ë¶ˆê°€ëŠ¥!
â†’ ë‘ë ¤ì›€ ê¸°ë°˜ í”„ë¡œê·¸ë˜ë°
```

---

#### ê°ì²´ì§€í–¥ì˜ í•´ê²°ì±…

```ruby
class Employee
  def initialize(name, basePay)
    @name = name
    @basePay = basePay
  end
  
  def calculatePay(taxRate)
    return @basePay - (@basePay * taxRate)
  end
end

# basePay ë³€ê²½ ì‹œ ì˜í–¥ ë²”ìœ„:
# â†’ Employee í´ë˜ìŠ¤ ë‚´ë¶€ë§Œ!

# í™•ì¸ ë°©ë²•:
# â†’ Employee.rb íŒŒì¼ë§Œ ë³´ë©´ ë¨!

# ë³€ê²½ ë‘ë ¤ì›€:
# â†’ ê°ì†Œ!
```

---

## ğŸ”„ Stepë³„ ë¬¸ì œì  ìš”ì•½

### ë¬¸ì œì  ë§¤íŠ¸ë¦­ìŠ¤

| ë¬¸ì œ | Step 01 | Step 02 | Step 03 | Step 04 | Step 05 | Step 06 |
|------|---------|---------|---------|---------|---------|---------|
| **í•˜ë‚˜ì˜ ë©”ì¸ í•¨ìˆ˜** | ğŸ”´ ìµœì•… | ğŸŸ¡ ê°œì„  ì‹œë„ | ğŸŸ¡ ì—¬ì „í•¨ | ğŸŸ¢ í•´ê²° | ğŸŸ¢ í•´ê²° | ğŸŸ¢ í•´ê²° |
| **ë©”ì¸ í•¨ìˆ˜ ìˆ˜ì •** | ğŸ”´ ë§¤ë²ˆ | ğŸ”´ ë§¤ë²ˆ | ğŸ”´ ë§¤ë²ˆ | ğŸŸ¡ ëª¨ë“ˆë§Œ | ğŸŸ¡ êµ¬ì¡°ì²´ë§Œ | ğŸŸ¢ í•´ê²° |
| **UI/ë¡œì§ ê²°í•©** | ğŸ”´ ì™„ì „ ì„ì„ | ğŸ”´ ì™„ì „ ì„ì„ | ğŸ”´ ì™„ì „ ì„ì„ | ğŸŸ¢ ë¶„ë¦¬ë¨ | ğŸŸ¢ ë¶„ë¦¬ë¨ | ğŸŸ¢ ë¶„ë¦¬ë¨ |
| **ì‹¤í–‰ ìˆœì„œ ê³ ì •** | ğŸ”´ ê³ ì • | ğŸ”´ ê³ ì • | ğŸ”´ ê³ ì • | ğŸŸ¡ ë¶€ë¶„ ê°œì„  | ğŸŸ¢ ìœ ì—° | ğŸŸ¢ ìœ ì—° |
| **ë°ì´í„° íŒŒê¸‰íš¨ê³¼** | ğŸ”´ ì¶”ì  ë¶ˆê°€ | ğŸ”´ ì¶”ì  ë¶ˆê°€ | ğŸ”´ ë” ì‹¬í•¨ | ğŸŸ¡ ëª¨ë“ˆ ë‚´ë¶€ | ğŸŸ¢ ìº¡ìŠí™” | ğŸŸ¢ ìº¡ìŠí™” |
| **íƒ€ì… ì¶”ê°€** | ğŸ”´ ëª¨ë“  í•¨ìˆ˜ | ğŸ”´ ëª¨ë“  í•¨ìˆ˜ | ğŸ”´ ëª¨ë“  í•¨ìˆ˜ | ğŸŸ¡ ëª¨ë“ˆ ìˆ˜ì • | ğŸŸ¡ ifë¬¸ ì¶”ê°€ | ğŸŸ¢ í´ë˜ìŠ¤ ì¶”ê°€ |
| **ì¬ì‚¬ìš©ì„±** | ğŸ”´ ê±°ì˜ ì—†ìŒ | ğŸ”´ ê±°ì˜ ì—†ìŒ | ğŸ”´ ê±°ì˜ ì—†ìŒ | ğŸŸ¡ ëª¨ë“ˆ ë‹¨ìœ„ | ğŸŸ¡ êµ¬ì¡°ì²´ ë‹¨ìœ„ | ğŸŸ¢ ë†’ìŒ |
| **í…ŒìŠ¤íŠ¸ ìš©ì´ì„±** | ğŸ”´ ì–´ë ¤ì›€ | ğŸ”´ ì–´ë ¤ì›€ | ğŸ”´ ì–´ë ¤ì›€ | ğŸŸ¡ ê°€ëŠ¥ | ğŸŸ¢ ì‰¬ì›€ | ğŸŸ¢ ì‰¬ì›€ |

---

## ğŸ’¡ ì„¤ê³„ ì›ì¹™ ì ìš© ê³¼ì •

### ì •ë³´ ì€ë‹‰ì˜ ì§„í™”

```
Step 03 (ì •ë³´ ì€ë‹‰ ì—†ìŒ):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì „ì—­ ìŠ¤ì½”í”„                  â”‚
â”‚                            â”‚
â”‚  $employees                â”‚ â† ëª¨ë‘ ì ‘ê·¼ ê°€ëŠ¥
â”‚  $basePays                 â”‚ â† ëª¨ë‘ ì ‘ê·¼ ê°€ëŠ¥
â”‚  $hourlys                  â”‚ â† ëª¨ë‘ ì ‘ê·¼ ê°€ëŠ¥
â”‚  $timeCards                â”‚ â† ëª¨ë‘ ì ‘ê·¼ ê°€ëŠ¥
â”‚                            â”‚
â”‚  function1()               â”‚
â”‚  function2()               â”‚
â”‚  ...                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 04 (ëª¨ë“ˆë¡œ ì€ë‹‰):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Employees Module          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Private:             â”‚  â”‚
â”‚  â”‚  $employees          â”‚  â”‚ â† ëª¨ë“ˆ ë‚´ë¶€ë§Œ
â”‚  â”‚  $basePays           â”‚  â”‚ â† ëª¨ë“ˆ ë‚´ë¶€ë§Œ
â”‚  â”‚  $hourlys            â”‚  â”‚ â† ëª¨ë“ˆ ë‚´ë¶€ë§Œ
â”‚  â”‚  $timeCards          â”‚  â”‚ â† ëª¨ë“ˆ ë‚´ë¶€ë§Œ
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Public:              â”‚  â”‚
â”‚  â”‚  calculatePay()      â”‚  â”‚ â† ì™¸ë¶€ ì ‘ê·¼ í—ˆìš©
â”‚  â”‚  sumOfBasePays()     â”‚  â”‚ â† ì™¸ë¶€ ì ‘ê·¼ í—ˆìš©
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 06 (ê°ì²´ë¡œ ìº¡ìŠí™”):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Employee        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Private:   â”‚  â”‚
â”‚  â”‚  @name     â”‚  â”‚ â† ì¸ìŠ¤í„´ìŠ¤ë§ˆë‹¤
â”‚  â”‚  @basePay  â”‚  â”‚ â† ë…ë¦½ì 
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Public:    â”‚  â”‚
â”‚  â”‚  calcPay() â”‚  â”‚ â† ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ì‘ì§‘ë„ì˜ ì§„í™”

```
Step 01-03 (ë‚®ì€ ì‘ì§‘ë„):
calculatePay():
- UI ì…ë ¥
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- UI ì¶œë ¥
- ë°ì´í„° ì ‘ê·¼
â†’ 4ê°€ì§€ ì±…ì„!

Step 04 (ì¤‘ê°„ ì‘ì§‘ë„):
Employees ëª¨ë“ˆ:
- ì§ì› ë°ì´í„° ê´€ë¦¬
- ê¸‰ì—¬ ê³„ì‚°
- í†µê³„ ê³„ì‚°
â†’ ê´€ë ¨ ì±…ì„ ë¬¶ìŒ

Step 06 (ë†’ì€ ì‘ì§‘ë„):
Employee í´ë˜ìŠ¤:
- ìì‹ ì˜ ë°ì´í„° ê´€ë¦¬
- ìì‹ ì˜ ê¸‰ì—¬ ê³„ì‚°
â†’ ë‹¨ì¼ ì±…ì„!
```

---

### ê²°í•©ë„ì˜ ì§„í™”

```
Step 03 (ë†’ì€ ê²°í•©ë„):
calculatePay()
  â†’ $employees (ì „ì—­)
  â†’ $basePays (ì „ì—­)
  â†’ $hourlys (ì „ì—­)
  â†’ getTaxRate() (í•¨ìˆ˜)
  â†’ describeResult() (í•¨ìˆ˜)

â†’ 5ê°œ ì´ìƒì˜ ì˜ì¡´ì„±!

Step 04 (ì¤‘ê°„ ê²°í•©ë„):
ì™¸ë¶€ ì½”ë“œ
  â†’ Employees.calculatePay()
  
Employees ëª¨ë“ˆ
  â†’ ë‚´ë¶€ ë°ì´í„°ë§Œ

â†’ ì˜ì¡´ì„± ê°ì†Œ!

Step 06 (ë‚®ì€ ê²°í•©ë„):
client
  â†’ employee.calculatePay(taxRate)

employee
  â†’ @basePayë§Œ ì‚¬ìš©

â†’ ìµœì†Œ ì˜ì¡´ì„±!
```

---

## ğŸ¯ ì–¸ì œ í•˜í–¥ì‹ ë¶„í•´ê°€ ìœ ìš©í•œê°€?

### ì í•©í•œ ê²½ìš°

**1. ì¼íšŒì„± ìŠ¤í¬ë¦½íŠ¸**
```ruby
# âœ… í•˜í–¥ì‹ ë¶„í•´ ì í•©
def backup_database()
  connect_to_db()
  export_tables()
  compress_files()
  upload_to_s3()
  send_notification()
end

# ì´ìœ :
# - í•œ ë²ˆ ì‘ì„±í•˜ê³  ë
# - ë³€ê²½ ê±°ì˜ ì—†ìŒ
# - ìˆœì„œê°€ ëª…í™•í•¨
```

**2. ì•Œê³ ë¦¬ì¦˜ ë¬¸ì„œí™”**
```ruby
# âœ… í•˜í–¥ì‹ ë¶„í•´ ì í•©
def quicksort(arr)
  return arr if arr.length <= 1
  
  pivot = arr[0]
  less = arr[1..]select { |x| x <= pivot }
  greater = arr[1..].select { |x| x > pivot }
  
  return quicksort(less) + [pivot] + quicksort(greater)
end

# ì´ìœ :
# - ì•Œê³ ë¦¬ì¦˜ì€ ê³ ì •
# - ìˆœì„œê°€ í•µì‹¬
# - ì¬ì‚¬ìš©ë³´ë‹¤ ì´í•´ê°€ ì¤‘ìš”
```

**3. ì„¤ì • ìŠ¤í¬ë¦½íŠ¸**
```ruby
# âœ… í•˜í–¥ì‹ ë¶„í•´ ì í•©
def setup_development_environment()
  install_dependencies()
  create_database()
  run_migrations()
  seed_test_data()
  start_services()
end

# ì´ìœ :
# - ì •í•´ì§„ ìˆœì„œ í•„ìš”
# - ë°˜ë³µ ì‘ì—…
# - ë³€ê²½ ë“œë­„
```

---

### ë¶€ì í•©í•œ ê²½ìš°

**1. ëŒ€ê·œëª¨ ë¹„ì¦ˆë‹ˆìŠ¤ ì‹œìŠ¤í…œ**
```ruby
# âŒ í•˜í–¥ì‹ ë¶„í•´ ë¶€ì í•©
def process_order(order)
  validate_order(order)
  check_inventory(order)
  calculate_price(order)
  process_payment(order)
  update_inventory(order)
  send_confirmation(order)
  notify_warehouse(order)
end

# ë¬¸ì œ:
# - ìš”êµ¬ì‚¬í•­ ìì£¼ ë³€ê²½
# - ê° ë‹¨ê³„ê°€ ë³µì¡í•¨
# - ì¬ì‚¬ìš© í•„ìš”
# â†’ ê°ì²´ì§€í–¥ í•„ìš”!
```

**2. ë‹¤ì¤‘ ì‚¬ìš©ì ìƒí˜¸ì‘ìš©**
```ruby
# âŒ í•˜í–¥ì‹ ë¶„í•´ ë¶€ì í•©
def handle_user_request(request)
  authenticate_user(request)
  authorize_action(request)
  validate_input(request)
  process_business_logic(request)
  format_response(request)
end

# ë¬¸ì œ:
# - ë‹¤ì–‘í•œ ìš”ì²­ íƒ€ì…
# - ê° ë‹¨ê³„ê°€ ë…ë¦½ì 
# - ìˆœì„œ ë³€ê²½ ê°€ëŠ¥
# â†’ ê°ì²´ì§€í–¥ í•„ìš”!
```

**3. ì¥ê¸° ìœ ì§€ë³´ìˆ˜ í”„ë¡œì íŠ¸**
```ruby
# âŒ í•˜í–¥ì‹ ë¶„í•´ ë¶€ì í•©
def generate_report(type)
  load_data(type)
  filter_data(type)
  aggregate_data(type)
  format_output(type)
  save_report(type)
end

# ë¬¸ì œ:
# - ìƒˆ ë¦¬í¬íŠ¸ íƒ€ì… ì¶”ê°€
# - ê° ë‹¨ê³„ ì»¤ìŠ¤í„°ë§ˆì´ì§•
# - ì¬ì‚¬ìš© ë° í™•ì¥ í•„ìš”
# â†’ ê°ì²´ì§€í–¥ í•„ìš”!
```

---

### íŒë‹¨ ê¸°ì¤€

```
í•˜í–¥ì‹ ë¶„í•´ë¥¼ ì‚¬ìš©í•´ë„ ë˜ëŠ” ê²½ìš°:

â–¡ ìš”êµ¬ì‚¬í•­ì´ ì•ˆì •ì ì¸ê°€?
â–¡ ì¼íšŒì„± ë˜ëŠ” ë‹¨ìˆœ ë°˜ë³µì¸ê°€?
â–¡ ìˆœì„œê°€ ëª…í™•í•˜ê³  ê³ ì •ì ì¸ê°€?
â–¡ ìœ ì§€ë³´ìˆ˜ ê¸°ê°„ì´ ì§§ì€ê°€?
â–¡ ì¬ì‚¬ìš© í•„ìš”ì„±ì´ ë‚®ì€ê°€?

5ê°œ ì¤‘ 4ê°œ ì´ìƒ YES â†’ í•˜í–¥ì‹ OK

í•˜í–¥ì‹ì„ í”¼í•´ì•¼ í•˜ëŠ” ê²½ìš°:

â–¡ ìš”êµ¬ì‚¬í•­ì´ ìì£¼ ë³€ê²½ë˜ëŠ”ê°€?
â–¡ ì¥ê¸° ìœ ì§€ë³´ìˆ˜ê°€ í•„ìš”í•œê°€?
â–¡ ë‹¤ì–‘í•œ ë³€í˜•ì´ í•„ìš”í•œê°€?
â–¡ ì—¬ëŸ¬ ê³³ì—ì„œ ì¬ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ê°€?
â–¡ ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì¸ê°€?

5ê°œ ì¤‘ 3ê°œ ì´ìƒ YES â†’ ê°ì²´ì§€í–¥ í•„ìš”!
```

---

<div align="center">

**[â¬† ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](../README.md)**

</div>

<div align="center">

**[â† Chapter 06](../chapter06/README.md) | [Chapter 08 â†’](../chapter08/README.md)**

</div>
