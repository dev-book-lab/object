# Chapter 13. μ„λΈν΄λμ‹±κ³Ό μ„λΈνƒ€μ΄ν•‘

> *"μƒμ†μ λ©μ μ€ μ½”λ“ μ¬μ‚¬μ©μ΄ μ•„λ‹λ‹¤. μƒμ†μ€ νƒ€μ… κ³„μΈµμ„ κµ¬μ΅°ν™”ν•κΈ° μ„ν•΄ μ‚¬μ©ν•΄μ•Ό ν•λ‹¤."*

## π“ ν•µμ‹¬ κ°λ…

μ΄ μ¥μ—μ„λ” **μ¬λ°”λ¥Έ μƒμ†**μ μ΅°κ±΄μ„ λ‹¤λ£Ήλ‹λ‹¤. μƒμ†μ΄ λ‹¨μν μ½”λ“ μ¬μ‚¬μ©μ΄ μ•„λ‹, νƒ€μ… κ³„μΈµ κµ¬μ΅°ν™”λ¥Ό μ„ν• λ„κµ¬μ„μ„ μ΄ν•΄ν•κ³ , λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™μ„ ν†µν•΄ μ¬λ°”λ¥Έ μƒμ† κ΄€κ³„λ¥Ό κµ¬μ¶•ν•λ” λ°©λ²•μ„ ν•™μµν•©λ‹λ‹¤.

### π― ν•™μµ λ©ν‘

- νƒ€μ…κ³Ό νƒ€μ… κ³„μΈµμ κ°λ… μ΄ν•΄ν•κΈ°
- μ„λΈν΄λμ‹±κ³Ό μ„λΈνƒ€μ΄ν•‘μ μ°¨μ΄μ  νμ•…ν•κΈ°
- ν–‰λ™ νΈν™μ„±μ μ¤‘μ”μ„± μ΄ν•΄ν•κΈ°
- λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™(LSP) μ™„λ²½ν μ΄ν•΄ν•κΈ°
- κ³„μ•½μ— μν• μ„¤κ³„μ™€ μ„λΈνƒ€μ΄ν•‘μ κ΄€κ³„ νμ•…ν•κΈ°
- ν΄λΌμ΄μ–ΈνΈ κ΄€μ μ—μ„ μƒμ† κ΄€κ³„ νλ‹¨ν•κΈ°

---

## π“– λ©μ°¨

1. [νƒ€μ…](#1-νƒ€μ…)
2. [νƒ€μ… κ³„μΈµ](#2-νƒ€μ…-κ³„μΈµ)
3. [μ„λΈν΄λμ‹±κ³Ό μ„λΈνƒ€μ΄ν•‘](#3-μ„λΈν΄λμ‹±κ³Ό-μ„λΈνƒ€μ΄ν•‘)
4. [λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™](#4-λ¦¬μ¤μ½”ν”„-μΉν™-μ›μΉ™)
5. [κ³„μ•½μ— μν• μ„¤κ³„μ™€ μ„λΈνƒ€μ΄ν•‘](#5-κ³„μ•½μ—-μν•-μ„¤κ³„μ™€-μ„λΈνƒ€μ΄ν•‘)
6. [ν•µμ‹¬ μ •λ¦¬](#6-ν•µμ‹¬-μ •λ¦¬)

---

## 1. νƒ€μ…

> π“‚ **μ½”λ“**: Movie μμ•½ μ‹μ¤ν… μ „λ°

### 1.1 νƒ€μ…μ μ„Έ κ°€μ§€ κ΄€μ 

#### π κ°λ… κ΄€μ μ νƒ€μ…

**μ •μ:**
```
μ°λ¦¬κ°€ μΈμ§€ν•λ” μ„Έμƒμ μ‚¬λ¬Όμ μΆ…λ¥

μμ‹:
- μλ°”, λ£¨λΉ„, C β†’ ν”„λ΅κ·Έλλ° μ–Έμ–΄λΌλ” νƒ€μ…
- μ‚¬κ³Ό, λ°”λ‚λ‚, μ¤λ μ§€ β†’ κ³ΌμΌμ΄λΌλ” νƒ€μ…
```

**κµ¬μ„± μ”μ†:**

```
1. μ‹¬λ³Ό (Symbol)
   - νƒ€μ…μ μ΄λ¦„
   
2. λ‚΄μ—° (Intension)
   - νƒ€μ…μ μ •μ
   - νƒ€μ…μ— μ†ν•λ” κ°μ²΄λ“¤μ΄ κ°€μ§€λ” κ³µν†µ μ†μ„±
   
3. μ™Έμ—° (Extension)
   - νƒ€μ…μ— μ†ν•λ” κ°μ²΄λ“¤μ μ§‘ν•©
```

**ν•µμ‹¬:**
```
νƒ€μ…μ€ κ³µν†µμ νΉμ§•μ„ κ³µμ ν•λ” λ€μƒλ“¤μ λ¶„λ¥
```

#### π’» ν”„λ΅κ·Έλλ° μ–Έμ–΄ κ΄€μ μ νƒ€μ…

**μ •μ:**
```
λΉ„νΈ λ¬¶μμ— μλ―Έλ¥Ό λ¶€μ—¬ν•κΈ° μ„ν•΄ μ •μλ μ μ•½κ³Ό κ·μΉ™

λ©μ :
1. νƒ€μ…μ— μν–‰λ  μ μλ” μ ν¨ν• μ¤νΌλ μ΄μ…μ μ§‘ν•©μ„ μ •μ
2. νƒ€μ…μ— μν–‰λλ” μ¤νΌλ μ΄μ…μ— λ€ν•΄ λ―Έλ¦¬ μ•½μ†λ λ¬Έλ§¥μ„ μ κ³µ
```

**μμ‹:**

```java
// 1. μ ν¨ν• μ¤νΌλ μ΄μ… μ •μ
int a = 10;
String b = "Hello";

a + 20;      // β… int νƒ€μ…μ€ + μ—°μ‚° κ°€λ¥
b + " World"; // β… String νƒ€μ…λ„ + μ—°μ‚° κ°€λ¥

a.substring(0, 1);  // β int νƒ€μ…μ€ substring μ—°μ‚° λ¶κ°€λ¥
```

```java
// 2. λ¬Έλ§¥ μ κ³µ
int x = 1 + 2;           // λ§μ… μ—°μ‚° = 3
String y = "A" + "B";    // λ¬Έμμ—΄ μ—°κ²° = "AB"

// κ°™μ€ + μ—°μ‚°μμ§€λ§
// νƒ€μ…μ— λ”°λΌ λ‹¤λ¥Έ μλ―Έ!
```

**ν•µμ‹¬:**
```
νƒ€μ… = λ™μΌν• μ¤νΌλ μ΄μ…μ„ μ μ©ν•  μ μλ” μΈμ¤ν„΄μ¤λ“¤μ μ§‘ν•©
```

#### π¨ κ°μ²΄μ§€ν–¥ ν¨λ¬λ‹¤μ„ κ΄€μ μ νƒ€μ…

**μ •μ:**
```
κ°μ²΄μ νΌλΈ”λ¦­ μΈν„°νμ΄μ¤κ°€ κ°μ²΄μ νƒ€μ…μ„ κ²°μ •ν•λ‹¤.

λ™μΌν• νΌλΈ”λ¦­ μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•λ” κ°μ²΄λ“¤μ€
λ™μΌν• νƒ€μ…μΌλ΅ λ¶„λ¥λλ‹¤.
```

**ν•µμ‹¬ μ›μΉ™:**

```
κ°μ²΄μ νƒ€μ…μ„ κ²°μ •ν•λ” κ²ƒμ€
λ‚΄λ¶€ μ†μ„±μ΄ μ•„λ‹λΌ
μ™Έλ¶€μ— μ κ³µν•λ” ν–‰λ™μ΄λ‹¤!
```

**μμ‹:**

```java
// νΌλΈ”λ¦­ μΈν„°νμ΄μ¤λ΅ νƒ€μ… μ •μ
public interface DiscountPolicy {
    Money calculateDiscountAmount(Screening screening);
}

// λ™μΌν• νΌλΈ”λ¦­ μΈν„°νμ΄μ¤ = λ™μΌν• νƒ€μ…
public class AmountDiscountPolicy implements DiscountPolicy {
    private Money discountAmount;  // λ‚΄λ¶€ μ†μ„±μ€ λ‹¤λ¦„
    
    @Override
    public Money calculateDiscountAmount(Screening screening) {
        return discountAmount;
    }
}

public class PercentDiscountPolicy implements DiscountPolicy {
    private double percent;  // λ‚΄λ¶€ μ†μ„±μ€ λ‹¤λ¦„
    
    @Override
    public Money calculateDiscountAmount(Screening screening) {
        return screening.getMovieFee().times(percent);
    }
}
```

**μ¤‘μ”:**

```
λ‚΄λ¶€ κµ¬ν„μ€ μ™„μ „ν λ‹¤λ¥΄μ§€λ§
λ™μΌν• νΌλΈ”λ¦­ μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•λ―€λ΅
λ‘ ν΄λμ¤λ” λ™μΌν• νƒ€μ…!

Movie ν΄λΌμ΄μ–ΈνΈλ” λ‘μ„ κµ¬λ¶„ν•μ§€ λ»ν•¨
(κµ¬λ¶„ν•  ν•„μ”λ„ μ—†μ!)
```

### 1.2 νƒ€μ… κ΄€μ μ ν•µμ‹¬ μ •λ¦¬

| κ΄€μ  | νƒ€μ…μ μλ―Έ | κ²°μ • μ”μ† |
|------|-----------|----------|
| **κ°λ…** | μ‚¬λ¬Όμ λ¶„λ¥ | κ³µν†µ νΉμ§• |
| **ν”„λ΅κ·Έλλ° μ–Έμ–΄** | μ¤νΌλ μ΄μ… μ§‘ν•© | μ μ© κ°€λ¥ν• μ—°μ‚° |
| **κ°μ²΄μ§€ν–¥** | νΌλΈ”λ¦­ μΈν„°νμ΄μ¤ | μμ‹  κ°€λ¥ν• λ©”μ‹μ§€ |

---

## 2. νƒ€μ… κ³„μΈµ

### 2.1 νƒ€μ… μ‚¬μ΄μ ν¬ν•¨κ΄€κ³„

#### π― μνΌνƒ€μ…κ³Ό μ„λΈνƒ€μ…

**μ •μ:**

```
μνΌνƒ€μ… (Supertype):
- λ” μΌλ°μ μΈ νƒ€μ…
- μ§‘ν•©μ΄ λ‹¤λ¥Έ μ§‘ν•©μ λ¨λ“  λ©¤λ²„λ¥Ό ν¬ν•¨
- νƒ€μ… μ •μκ°€ λ” λ²”μ©μ μ΄κ³  λ„“μ€ μλ―Έ

μ„λΈνƒ€μ… (Subtype):
- λ” νΉμν• νƒ€μ…
- μ§‘ν•©μ΄ λ‹¤λ¥Έ μ§‘ν•©μ— ν¬ν•¨λ¨
- νƒ€μ… μ •μκ°€ λ” κµ¬μ²΄μ μ΄κ³  μΆμ€ μλ―Έ
```

**μ‹κ°ν™”:**

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚         ν”„λ΅κ·Έλλ° μ–Έμ–΄                β”‚  β† μνΌνƒ€μ…
β”‚  (λ” μΌλ°μ , λ” λ„“μ€ λ²”μ„)              β”‚
β”‚                                    β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚
β”‚  β”‚    κ°μ²΄μ§€ν–¥ μ–Έμ–΄                β”‚  β”‚  β† μ„λΈνƒ€μ…
β”‚  β”‚  (λ” νΉμν•, λ” μΆμ€ λ²”μ„)        β”‚  β”‚
β”‚  β”‚                              β”‚  β”‚
β”‚  β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚  β”‚
β”‚  β”‚  β”‚  ν΄λμ¤ κΈ°λ° μ–Έμ–΄          β”‚  β”‚  β”‚  β† λ” κµ¬μ²΄μ μΈ μ„λΈνƒ€μ…
β”‚  β”‚  β”‚                        β”‚  β”‚  β”‚
β”‚  β”‚  β”‚  Java, C++, C#         β”‚  β”‚  β”‚
β”‚  β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚  β”‚
β”‚  β”‚                              β”‚  β”‚
β”‚  β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚  β”‚
β”‚  β”‚  β”‚  ν”„λ΅ν† νƒ€μ… κΈ°λ° μ–Έμ–΄       β”‚  β”‚  β”‚
β”‚  β”‚  β”‚                        β”‚  β”‚  β”‚
β”‚  β”‚  β”‚  JavaScript            β”‚  β”‚  β”‚
β”‚  β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚  β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

#### π“ μΌλ°ν™”μ™€ νΉμν™”

**μΌλ°ν™” (Generalization):**
```
λ‹¤λ¥Έ νƒ€μ…μ„ μ™„μ „ν ν¬ν•¨ν•κ±°λ‚ λ‚΄ν¬ν•λ” νƒ€μ…μ„
μ‹λ³„ν•λ” ν–‰μ„ λλ” κ·Έ ν–‰μ„μ κ²°κ³Ό

λ°©ν–¥: μ„λΈνƒ€μ… β†’ μνΌνƒ€μ…
```

**νΉμν™” (Specialization):**
```
λ‹¤λ¥Έ νƒ€μ… μ•μ— μ „μ²΄μ μΌλ΅ ν¬ν•¨λκ±°λ‚
μ™„μ „ν λ‚΄ν¬λλ” νƒ€μ…μ„ μ‹λ³„ν•λ” ν–‰μ„ λλ” κ·Έ ν–‰μ„μ κ²°κ³Ό

λ°©ν–¥: μνΌνƒ€μ… β†’ μ„λΈνƒ€μ…
```

**μμ‹:**

```
μΌλ°ν™”:
μλ°”, C++ β†’ ν΄λμ¤ κΈ°λ° μ–Έμ–΄ β†’ κ°μ²΄μ§€ν–¥ μ–Έμ–΄ β†’ ν”„λ΅κ·Έλλ° μ–Έμ–΄

νΉμν™”:
ν”„λ΅κ·Έλλ° μ–Έμ–΄ β†’ κ°μ²΄μ§€ν–¥ μ–Έμ–΄ β†’ ν΄λμ¤ κΈ°λ° μ–Έμ–΄ β†’ μλ°”, C++
```

### 2.2 κ°μ²΄μ§€ν–¥ ν”„λ΅κ·Έλλ°κ³Ό νƒ€μ… κ³„μΈµ

#### π― νΌλΈ”λ¦­ μΈν„°νμ΄μ¤ κ΄€μ μ μ •μ

**μνΌνƒ€μ…:**
```
μ„λΈνƒ€μ…μ΄ μ •μν• νΌλΈ”λ¦­ μΈν„°νμ΄μ¤λ¥Ό
μΌλ°ν™”μ‹μΌ
μƒλ€μ μΌλ΅ λ²”μ©μ μ΄κ³  λ„“μ€ μλ―Έλ΅ μ •μν• κ²ƒ
```

**μ„λΈνƒ€μ…:**
```
μνΌνƒ€μ…μ΄ μ •μν• νΌλΈ”λ¦­ μΈν„°νμ΄μ¤λ¥Ό
νΉμν™”μ‹μΌ
μƒλ€μ μΌλ΅ κµ¬μ²΄μ μ΄κ³  μΆμ€ μλ―Έλ΅ μ •μν• κ²ƒ
```

#### π’΅ ν•µμ‹¬ μ›μΉ™

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                     β”‚
β”‚  μ„λΈνƒ€μ…μ μΈμ¤ν„΄μ¤λ”                                    β”‚
β”‚  μνΌνƒ€μ…μ μΈμ¤ν„΄μ¤λ΅ κ°„μ£Όλ  μ μλ‹¤!                       β”‚
β”‚                                                     β”‚
β”‚  μ΄κ²ƒμ΄ νƒ€μ… κ³„μΈµμ ν•µμ‹¬!                                 β”‚
β”‚                                                     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

**μμ‹:**

```java
// μνΌνƒ€μ…
public abstract class DiscountPolicy {
    // λ²”μ©μ μΈ μΈν„°νμ΄μ¤
    public abstract Money calculateDiscountAmount(Screening screening);
}

// μ„λΈνƒ€μ… 1
public class AmountDiscountPolicy extends DiscountPolicy {
    // κµ¬μ²΄μ μΈ κµ¬ν„ (κΈμ•΅ ν• μΈ)
    @Override
    public Money calculateDiscountAmount(Screening screening) {
        return discountAmount;
    }
}

// μ„λΈνƒ€μ… 2
public class PercentDiscountPolicy extends DiscountPolicy {
    // κµ¬μ²΄μ μΈ κµ¬ν„ (λΉ„μ¨ ν• μΈ)
    @Override
    public Money calculateDiscountAmount(Screening screening) {
        return screening.getMovieFee().times(percent);
    }
}
```

**μ‚¬μ©:**

```java
// μ„λΈνƒ€μ…μ„ μνΌνƒ€μ…μΌλ΅ κ°„μ£Ό!
DiscountPolicy policy1 = new AmountDiscountPolicy(...);
DiscountPolicy policy2 = new PercentDiscountPolicy(...);

// ν΄λΌμ΄μ–ΈνΈλ” λ™μΌν•κ² μ‚¬μ©
policy1.calculateDiscountAmount(screening);
policy2.calculateDiscountAmount(screening);
```

---

## 3. μ„λΈν΄λμ‹±κ³Ό μ„λΈνƒ€μ΄ν•‘

> π“‚ **μ½”λ“**: Bird, Penguin μμ‹ / Rectangle, Square μμ‹

### 3.1 μƒμ†μ λ‘ κ°€μ§€ μ©λ„

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚            μƒμ†μ λ‘ κ°€μ§€ μ©λ„                 β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                            β”‚
β”‚  1. νƒ€μ… κ³„μΈµ κµ¬ν„                            β”‚
β”‚     - λ¶€λ¨: μΌλ°μ  κ°λ… (μνΌνƒ€μ…)               β”‚
β”‚     - μμ‹: νΉμν• κ°λ… (μ„λΈνƒ€μ…)               β”‚
β”‚     β… μ¬λ°”λ¥Έ μ©λ„                            β”‚
β”‚                                            β”‚
β”‚  2. μ½”λ“ μ¬μ‚¬μ©                               β”‚
β”‚     - λ¶€λ¨-μμ‹ κ°•ν• κ²°ν•©                       β”‚
β”‚     - λ³€κ²½ν•κΈ° μ–΄λ ¤μ΄ μ½”λ“                      β”‚
β”‚     β μ„ν—ν• μ©λ„                            β”‚
β”‚                                            β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### 3.2 μ–Έμ  μƒμ†μ„ μ‚¬μ©ν•΄μ•Ό ν•λ”κ°€?

#### π“‹ Martin Oderskyμ μ§λ¬Έ

**λ‘ μ§λ¬Έμ— λ¨λ‘ "μ"λΌκ³  λ‹µν•  μ μλ” κ²½μ°μ—λ§ μƒμ†μ„ μ‚¬μ©ν•λΌ:**

```
μ§λ¬Έ 1:
μƒμ† κ΄€κ³„κ°€ is-a κ΄€κ³„λ¥Ό λ¨λΈλ§ν•λ”κ°€?

μ§λ¬Έ 2:
ν΄λΌμ΄μ–ΈνΈ μ…μ¥μ—μ„
λ¶€λ¨ ν΄λμ¤μ νƒ€μ…μΌλ΅ μμ‹ ν΄λμ¤λ¥Ό μ‚¬μ©ν•΄λ„ λ¬΄λ°©ν•κ°€?
(ν–‰λ™ νΈν™μ„±)
```

### 3.3 is-a κ΄€κ³„

#### π§ κ³ μ „μ  μμ‹: ν­κ·„κ³Ό μƒ

**μ§κ΄€μ  νλ‹¨:**

```
1. ν­κ·„μ€ μƒλ‹¤. (Penguin is-a Bird) β“
2. μƒλ” λ‚  μ μλ‹¤. β“
```

**μ½”λ“λ΅ μ®κΈ°κΈ°:**

```java
public class Bird {
    public void fly() {
        // λ‚ λ‹¤
    }
}

public class Penguin extends Bird {
    // ν­κ·„μ€ μƒλ¥Ό μƒμ†
}
```

**λ¬Έμ  λ°μƒ:**

```java
Penguin penguin = new Penguin();
penguin.fly();  // ??? ν­κ·„μ€ λ‚  μ μ—†λ”λ°!
```

#### β οΈ μ–΄νμ  μ •μ vs κΈ°λ€λλ” ν–‰λ™

```
μ–΄νμ  μ •μ:
"ν­κ·„μ€ μƒλ‹¤" β“ (μƒλ¬Όν•™μ μΌλ΅ λ§μ)

κΈ°λ€λλ” ν–‰λ™:
"μƒλ” λ‚  μ μλ‹¤"
"ν­κ·„μ€ λ‚  μ μ—†λ‹¤"
β†’ ν–‰λ™ λ¶μΌμΉ! β—

κ²°λ΅ :
μ–΄νμ  μ •μκ°€ μ•„λ‹λΌ
κΈ°λ€λλ” ν–‰λ™μ— λ”°λΌ νƒ€μ… κ³„μΈµμ„ κµ¬μ„±ν•΄μ•Ό ν•λ‹¤!
```

### 3.4 ν–‰λ™ νΈν™μ„±

#### π― ν•µμ‹¬ μ›μΉ™

```
ν–‰λ™μ νΈν™ μ—¬λ¶€λ¥Ό νλ‹¨ν•λ” κΈ°μ¤€:
β†’ ν΄λΌμ΄μ–ΈνΈμ κ΄€μ !

ν΄λΌμ΄μ–ΈνΈκ°€ λ‘ νƒ€μ…μ΄ λ™μΌν•κ² ν–‰λ™ν•  κ²ƒμ΄λΌκ³  κΈ°λ€ν•λ‹¤λ©΄
β†’ λ‘ νƒ€μ…μ„ νƒ€μ… κ³„μΈµμΌλ΅ λ¬¶μ„ μ μλ‹¤

ν΄λΌμ΄μ–ΈνΈκ°€ λ‘ νƒ€μ…μ΄ λ‹¤λ¥΄κ² ν–‰λ™ν•  κ²ƒμ΄λΌκ³  κΈ°λ€ν•λ‹¤λ©΄
β†’ λ‘ νƒ€μ…μ„ νƒ€μ… κ³„μΈµμΌλ΅ λ¬¶μΌλ©΄ μ• λλ‹¤
```

#### π“ ν΄λΌμ΄μ–ΈνΈ μμ‹

```java
public void flyBird(Bird bird) {
    // ν΄λΌμ΄μ–ΈνΈμ κΈ°λ€:
    // μΈμλ΅ μ „λ‹¬λ λ¨λ“  birdλ” λ‚  μ μμ–΄μ•Ό ν•λ‹¤!
    bird.fly();
}
```

**λ¬Έμ  μƒν™©:**

```java
flyBird(new Sparrow());  // β… μ°Έμƒλ” λ‚  μ μμ
flyBird(new Eagle());    // β… λ…μλ¦¬λ” λ‚  μ μμ
flyBird(new Penguin());  // β ν­κ·„μ€ λ‚  μ μ—†μ!
```

### 3.5 μλ»λ ν•΄κ²° λ°©λ²•λ“¤

#### β λ°©λ²• 1: fly() λ©”μ„λ“ λΉ„μ°κΈ°

```java
public class Penguin extends Bird {
    @Override
    public void fly() {
        // μ•„λ¬΄κ²ƒλ„ ν•μ§€ μ•μ
    }
}
```

**λ¬Έμ :**
```
ν­κ·„μ€ λ‚ μ§€ λ»ν•λ‹¤. β“

ν•μ§€λ§:
μ–΄λ–¤ ν–‰λ™λ„ μν–‰ν•μ§€ μ•κΈ° λ•λ¬Έμ—
"λ¨λ“  birdκ°€ λ‚  μ μλ‹¤"λ” ν΄λΌμ΄μ–ΈνΈμ κΈ°λ€λ¥Ό λ§μ΅±μ‹ν‚¤μ§€ λ»ν•¨

β†’ μ¬λ°”λ¥Έ μ„¤κ³„κ°€ μ•„λ‹
```

#### β λ°©λ²• 2: μμ™Έ λμ§€κΈ°

```java
public class Penguin extends Bird {
    @Override
    public void fly() {
        throw new UnsupportedOperationException("ν­κ·„μ€ λ‚  μ μ—†μµλ‹λ‹¤");
    }
}
```

**λ¬Έμ :**
```
flyBird() λ©”μ„λ“μ— μ „λ‹¬λλ” μΈμμ νƒ€μ…μ— λ”°λΌ
λ©”μ„λ“κ°€ μ‹¤ν¨ν•κ±°λ‚ μ„±κ³µν•λ‹¤

"λ¨λ“  birdκ°€ λ‚  μ μλ‹¤"λ” ν΄λΌμ΄μ–ΈνΈμ κΈ°λ€λ¥Ό λ§μ΅±μ‹ν‚¤μ§€ λ»ν•¨

β†’ μ¬λ°”λ¥Έ μ„¤κ³„κ°€ μ•„λ‹
```

#### β λ°©λ²• 3: instanceofλ΅ νƒ€μ… μ²΄ν¬

```java
public void flyBird(Bird bird) {
    if (!(bird instanceof Penguin)) {
        bird.fly();
    }
}
```

**λ¬Έμ :**
```
1. μƒλ΅μ΄ νƒ€μ… μ¶”κ°€ μ‹ μ½”λ“ μμ • ν•„μ”
   - Ostrich(νƒ€μ΅°) μ¶”κ°€ μ‹ β†’ flyBird μμ •
   - κ²°ν•©λ„ μ¦κ°€!
   
2. κ°λ°©-νμ‡„ μ›μΉ™(OCP) μ„λ°
   - ν™•μ¥μ—λ” μ—΄λ ¤μμ§€λ§ μμ •μ—λ” λ‹«ν€μμ–΄μ•Ό ν•¨
   - instanceofλ” μμ •μ„ κ°•μ ν•¨
   
β†’ μµμ•…μ ν•΄κ²°μ±…!
```

### 3.6 μ¬λ°”λ¥Έ ν•΄κ²° λ°©λ²•

#### β… λ°©λ²• 1: ν΄λΌμ΄μ–ΈνΈ κΈ°λ€μ— λ”°λΌ κ³„μΈµ λ¶„λ¦¬

```java
// μµμƒμ„: μƒ (κ±·λ” ν–‰λ™λ§)
public class Bird {
    public void walk() {
        // κ±·λ‹¤
    }
}

// λ‚  μ μλ” μƒ
public class FlyingBird extends Bird {
    public void fly() {
        // λ‚ λ‹¤
    }
}

// ν­κ·„ (λ‚  μ μ—†λ” μƒ)
public class Penguin extends Bird {
    // fly() μ—†μ
}
```

**μ‚¬μ©:**

```java
// λ‚  μ μλ” μƒλ§ λ°›μ (λ…ν™•ν• κ³„μ•½!)
public void flyBird(FlyingBird bird) {
    bird.fly();  // ν•­μƒ μ„±κ³µ!
}

flyBird(new Sparrow());  // β…
flyBird(new Eagle());    // β…
flyBird(new Penguin());  // β μ»΄νμΌ μ—λ¬! (μλ„ν• λ€λ΅)
```

**κ³„μΈµ κµ¬μ΅°:**

```
        Bird
         β†‘
    β”β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”
    β”‚         β”‚
FlyingBird  Penguin
    β†‘
β”β”€β”€β”€β”΄β”€β”€β”€β”
β”‚       β”‚
Sparrow Eagle
```

#### β… λ°©λ²• 2: μΈν„°νμ΄μ¤ λ¶„λ¦¬ (ISP)

```java
// λ‚  μ μλ” μΈν„°νμ΄μ¤
public interface Flyer {
    void fly();
}

// κ±Έμ„ μ μλ” μΈν„°νμ΄μ¤
public interface Walker {
    void walk();
}

// μ°Έμƒ: λ‚  μ μκ³  κ±Έμ„ μ μμ
public class Sparrow implements Flyer, Walker {
    @Override
    public void fly() { ... }
    
    @Override
    public void walk() { ... }
}

// ν­κ·„: κ±Έμ„ μλ§ μμ
public class Penguin implements Walker {
    @Override
    public void walk() { ... }
}
```

**ν΄λΌμ΄μ–ΈνΈ:**

```java
// Client 1: λ‚  μ μλ” κ²ƒλ§ ν•„μ”
public class FlyingClient {
    public void fly(Flyer flyer) {
        flyer.fly();
    }
}

// Client 2: κ±Έμ„ μ μλ” κ²ƒλ§ ν•„μ”
public class WalkingClient {
    public void walk(Walker walker) {
        walker.walk();
    }
}
```

**μ‹κ°ν™”:**

```
     Flyer          Walker
       β†‘              β†‘
       β”‚              β”‚
       β””β”€β”€β”¬β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”
          β”‚    β”‚
       Sparrow Penguin
```

#### π’΅ μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™ (ISP)

```
ν΄λΌμ΄μ–ΈνΈμ— λ”°λΌ μΈν„°νμ΄μ¤λ¥Ό λ¶„λ¦¬ν•λ©΄
λ³€κ²½μ— λ€ν• μν–¥μ„ λ” μ„Έλ°€ν•κ² μ μ–΄ν•  μ μλ‹¤!

μμ‹:
Client1μ κΈ°λ€κ°€ λ°”λ€μ–΄ Flyer μΈν„°νμ΄μ¤κ°€ λ³€κ²½λμ–΄λ„
β†’ Flyerμ— μμ΅΄ν•λ” κ°μ²΄λ§ μν–¥λ°›μ
β†’ Walkerλ§ μ‚¬μ©ν•λ” Penguinμ€ μν–¥ μ—†μ!

μ΄κ²ƒμ΄ μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™ (ISP)
```

#### β… λ°©λ²• 3: ν•©μ„± μ‚¬μ©

```java
public interface Flyer {
    void fly();
}

public interface Walker {
    void walk();
}

// Birdλ” Walkerλ¥Ό ν•©μ„±
public class Bird {
    private Walker walker;
    
    public Bird(Walker walker) {
        this.walker = walker;
    }
    
    public void walk() {
        walker.walk();
    }
}

// Penguinμ€ Birdλ¥Ό ν•©μ„±ν•κ³  Walker κµ¬ν„
public class Penguin implements Walker {
    private Bird bird;
    
    public Penguin() {
        this.bird = new Bird(this);
    }
    
    @Override
    public void walk() {
        // κ±·κΈ° κµ¬ν„
    }
    
    public void swim() {
        // ν­κ·„ νΉν™” ν–‰λ™
    }
}

// Sparrowλ” Flyerμ™€ Walker λ¨λ‘ κµ¬ν„
public class Sparrow implements Flyer, Walker {
    private Bird bird;
    
    public Sparrow() {
        this.bird = new Bird(this);
    }
    
    @Override
    public void fly() {
        // λ‚ κΈ° κµ¬ν„
    }
    
    @Override
    public void walk() {
        // κ±·κΈ° κµ¬ν„
    }
}
```

**μ¥μ :**

```
1. μƒμ†λ³΄λ‹¤ μ μ—°ν•¨
   - λ°νƒ€μ„μ— ν–‰λ™ κµμ²΄ κ°€λ¥
   
2. μΈν„°νμ΄μ¤ μ¬μ‚¬μ©
   - Bird μ½”λ“ μ¬μ‚¬μ©ν•λ©΄μ„λ„
   - Penguinμ€ fly μΈν„°νμ΄μ¤ μ—†μ
   
3. λ‹¨μΌ μ±…μ„ μ›μΉ™ μ¤€μ
   - κ° ν΄λμ¤κ°€ λ…ν™•ν• μ±…μ„
```

### 3.7 μ„λΈν΄λμ‹± vs μ„λΈνƒ€μ΄ν•‘

#### π“ μ •μ

**μ„λΈν΄λμ‹± (Subclassing):**
```
= κµ¬ν„ μƒμ† (Implementation Inheritance)
= ν΄λμ¤ μƒμ† (Class Inheritance)

λ©μ : μ½”λ“ μ¬μ‚¬μ©

νΉμ§•:
- μμ‹κ³Ό λ¶€λ¨μ ν–‰λ™μ΄ νΈν™λμ§€ μ•μ
- μμ‹μ΄ λ¶€λ¨λ¥Ό λ€μ²΄ν•  μ μ—†μ
- κ²°ν•©λ„ λ†’μ
- λ³€κ²½ μ–΄λ ¤μ›€

μμ‹: Stack extends Vector
```

**μ„λΈνƒ€μ΄ν•‘ (Subtyping):**
```
= μΈν„°νμ΄μ¤ μƒμ† (Interface Inheritance)

λ©μ : νƒ€μ… κ³„μΈµ κµ¬μ„±

νΉμ§•:
- μμ‹κ³Ό λ¶€λ¨μ ν–‰λ™μ΄ νΈν™λ¨
- μμ‹μ΄ λ¶€λ¨λ¥Ό λ€μ²΄ κ°€λ¥ (LSP)
- λ‹¤ν•μ„± κµ¬ν„
- μ μ—°ν• μ„¤κ³„

μμ‹: AmountDiscountPolicy extends DiscountPolicy
```

#### π“‹ λΉ„κµν‘

| μΈ΅λ©΄ | μ„λΈν΄λμ‹± | μ„λΈνƒ€μ΄ν•‘ |
|------|----------|----------|
| **λ©μ ** | μ½”λ“ μ¬μ‚¬μ© | νƒ€μ… κ³„μΈµ |
| **ν–‰λ™ νΈν™μ„±** | μ—†μ | μμ |
| **λ€μ²΄ κ°€λ¥μ„±** | λ¶κ°€λ¥ | κ°€λ¥ |
| **κ²°ν•©λ„** | λ†’μ | λ‚®μ |
| **λ‹¤ν•μ„±** | λ¶κ°€λ¥ | κ°€λ¥ |
| **λ³€κ²½ μ©μ΄μ„±** | μ–΄λ ¤μ›€ | μ‰¬μ›€ |
| **μμ‹** | Stack/Vector | DiscountPolicy κ³„μΈµ |

#### π’΅ νλ‹¨ κΈ°μ¤€

```
μμ‹ ν΄λμ¤κ°€ λ¶€λ¨ ν΄λμ¤μ μ½”λ“λ¥Ό μ¬μ‚¬μ©ν•  λ©μ μΌλ΅ μƒμ†μ„ μ‚¬μ©ν–λ‹¤λ©΄
β†’ μ„λΈν΄λμ‹±

λ¶€λ¨ ν΄λμ¤μ μΈμ¤ν„΄μ¤ λ€μ‹  μμ‹ ν΄λμ¤μ μΈμ¤ν„΄μ¤λ¥Ό μ‚¬μ©ν•  λ©μ μΌλ΅ μƒμ†μ„ μ‚¬μ©ν–λ‹¤λ©΄
β†’ μ„λΈνƒ€μ΄ν•‘
```

#### π― ν•µμ‹¬ μ›μΉ™

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                     β”‚
β”‚  μ„λΈνƒ€μ… κ΄€κ³„κ°€ μ μ§€λκΈ° μ„ν•΄μ„λ”                          β”‚
β”‚                                                     β”‚
β”‚  μ„λΈνƒ€μ…μ΄ μνΌνƒ€μ…μ΄ ν•λ” λ¨λ“  ν–‰λ™μ„                       β”‚
β”‚  λ™μΌν•κ² ν•  μ μμ–΄μ•Ό ν•λ‹¤                               β”‚
β”‚                                                     β”‚
β”‚  = ν–‰λ™ λ€μ²΄μ„± (Behavioral Substitution)               β”‚
β”‚                                                     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## 4. λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™

> π“‚ **μ½”λ“**: [`Rectangle.java`] / [`Square.java`] / [`BrokenDiscountPolicy.java`]

### 4.1 λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™ (LSP)

#### π“ Barbara Liskovμ μ •μ

```
Sν•μ κ° κ°μ²΄ o1μ— λ€ν•΄ Tν•μ κ°μ²΄ o2κ°€ ν•λ‚ μκ³ ,
Tμ— μν•΄ μ •μλ λ¨λ“  ν”„λ΅κ·Έλ¨ Pμ—μ„
Tκ°€ Sλ΅ μΉν™λ  λ•,
Pμ λ™μ‘μ΄ λ³€ν•μ§€ μ•μΌλ©΄
Sλ” Tμ μ„λΈνƒ€μ…μ΄λ‹¤.
```

#### π― κ°„λ‹¨ν• ν‘ν„

```
μ„λΈνƒ€μ…μ€ κ·Έκ²ƒμ κΈ°λ° νƒ€μ…μ— λ€ν•΄ λ€μ²΄ κ°€λ¥ν•΄μ•Ό ν•λ‹¤.

λ” κ°„λ‹¨ν:
ν΄λΌμ΄μ–ΈνΈκ°€ μ°¨μ΄μ μ„ μΈμ‹ν•μ§€ λ»ν• μ±„
κΈ°λ° ν΄λμ¤μ μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄
μ„λΈν΄λμ¤λ¥Ό μ‚¬μ©ν•  μ μμ–΄μ•Ό ν•λ‹¤.
```

### 4.2 κ³ μ „μ  μμ‹: Rectangleκ³Ό Square

#### π“ Rectangle ν΄λμ¤

```java
public class Rectangle {
    private int x, y, width, height;
    
    public Rectangle(int x, int y, int width, int height) {
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
    }
    
    public int getWidth() {
        return width;
    }
    
    public void setWidth(int width) {
        this.width = width;
    }
    
    public int getHeight() {
        return height;
    }
    
    public void setHeight(int height) {
        this.height = height;
    }
    
    public int getArea() {
        return width * height;
    }
}
```

#### π”² Square ν΄λμ¤

**μ§κ΄€μ  νλ‹¨:**
```
μ •μ‚¬κ°ν•μ€ μ§μ‚¬κ°ν•μ΄λ‹¤. (Square is-a Rectangle)
β†’ μƒμ†μ„ μ‚¬μ©ν•μ!
```

**κµ¬ν„:**

```java
public class Square extends Rectangle {
    public Square(int x, int y, int size) {
        super(x, y, size, size);
    }
    
    @Override
    public void setWidth(int width) {
        super.setWidth(width);
        super.setHeight(width);  // λ„λΉ„ = λ†’μ΄ μ μ§€!
    }
    
    @Override
    public void setHeight(int height) {
        super.setWidth(height);  // λ„λΉ„ = λ†’μ΄ μ μ§€!
        super.setHeight(height);
    }
}
```

#### π’¥ λ¬Έμ  λ°μƒ

**ν΄λΌμ΄μ–ΈνΈ μ½”λ“:**

```java
public void resize(Rectangle rectangle, int width, int height) {
    rectangle.setWidth(width);
    rectangle.setHeight(height);
    
    // Rectangleμ— λ€ν• ν΄λΌμ΄μ–ΈνΈμ κΈ°λ€:
    // λ„λΉ„μ™€ λ†’μ΄λ¥Ό λ…λ¦½μ μΌλ΅ λ³€κ²½ν•  μ μλ‹¤
    assert rectangle.getWidth() == width && 
           rectangle.getHeight() == height;
}
```

**Rectangle μ‚¬μ©:**

```java
Rectangle rect = new Rectangle(10, 10, 20, 30);
resize(rect, 50, 100);  // β… μ„±κ³µ!

// rect.width = 50
// rect.height = 100
```

**Square μ‚¬μ©:**

```java
Square square = new Square(10, 10, 10);
resize(square, 50, 100);  // β μ‹¤ν¨!

// square.width = 100 (λ§μ§€λ§‰μ— μ„¤μ •λ κ°’)
// square.height = 100
// assert μ‹¤ν¨!
```

#### π― λ¬Έμ  λ¶„μ„

```
Rectangle ν΄λΌμ΄μ–ΈνΈμ κΈ°λ€:
- λ„λΉ„μ™€ λ†’μ΄λ¥Ό λ…λ¦½μ μΌλ΅ λ³€κ²½ κ°€λ¥
- setWidth()λ” λ„λΉ„λ§ λ³€κ²½
- setHeight()λ” λ†’μ΄λ§ λ³€κ²½

Squareμ μ‹¤μ  ν–‰λ™:
- λ„λΉ„μ™€ λ†’μ΄κ°€ ν•­μƒ κ°™μ•„μ•Ό ν•¨
- setWidth()λ” λ„λΉ„μ™€ λ†’μ΄ λ¨λ‘ λ³€κ²½
- setHeight()λ” λ„λΉ„μ™€ λ†’μ΄ λ¨λ‘ λ³€κ²½

κ²°λ΅ :
Rectangle λ€μ‹  Squareλ¥Ό μ‚¬μ©ν•  μ μ—†λ‹¤!
β†’ Squareλ” Rectangleμ μ„λΈνƒ€μ…μ΄ μ•„λ‹λ‹¤!
β†’ LSP μ„λ°!
```

#### π’΅ μ¬λ°”λ¥Έ μ΄ν•΄

```
"μ •μ‚¬κ°ν•μ€ μ§μ‚¬κ°ν•μ΄λ‹¤"

μ΄ λ¬Έμ¥μ€ μν•™μ /μ–΄νμ μΌλ΅λ” λ§μ§€λ§
κ°μ²΄μ§€ν–¥ μ„¤κ³„μ—μ„λ” ν‹€λ Έλ‹¤!

μ™?
ν΄λΌμ΄μ–ΈνΈ κ΄€μ μ—μ„
Rectangleκ³Ό Squareμ ν–‰λ™μ΄ νΈν™λμ§€ μ•κΈ° λ•λ¬Έ!
```

**μ¬λ°”λ¥Έ μ„¤κ³„:**

```java
// κ³µν†µ μΈν„°νμ΄μ¤
public interface Shape {
    int getArea();
}

// Rectangleκ³Ό Squareλ¥Ό λ…λ¦½μ μΌλ΅
public class Rectangle implements Shape {
    private int width, height;
    
    public void setWidth(int width) {
        this.width = width;
    }
    
    public void setHeight(int height) {
        this.height = height;
    }
    
    @Override
    public int getArea() {
        return width * height;
    }
}

public class Square implements Shape {
    private int size;
    
    public void setSize(int size) {
        this.size = size;
    }
    
    @Override
    public int getArea() {
        return size * size;
    }
}
```

### 4.3 ν΄λΌμ΄μ–ΈνΈμ™€ λ€μ²΄ κ°€λ¥μ„±

#### π― ν•µμ‹¬ ν†µμ°°

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                     β”‚
β”‚  "ν΄λΌμ΄μ–ΈνΈμ™€ κ²©λ¦¬ν• μ±„λ΅ λ³Έ λ¨λΈμ€                        β”‚
β”‚   μλ―Έ μκ² κ²€μ¦ν•λ” κ²ƒμ΄ λ¶κ°€λ¥ν•λ‹¤"                       β”‚
β”‚                                                     β”‚
β”‚  - Barbara Liskov                                   β”‚
β”‚                                                     β”‚
β”‚  β†’ λ€μ²΄ κ°€λ¥μ„±μ„ κ²°μ •ν•λ” κ²ƒμ€ ν΄λΌμ΄μ–ΈνΈ!                   β”‚
β”‚                                                     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

#### π“ μμ‹: DiscountPolicy κ³„μΈµ

**ν΄λΌμ΄μ–ΈνΈ (Movie):**

```java
public class Movie {
    private DiscountPolicy discountPolicy;
    
    public Money calculateMovieFee(Screening screening) {
        // Movieλ” DiscountPolicyμ— λ€ν•΄ κΈ°λ€:
        // - nullμ΄ μ•„λ‹ μ ν¨ν• ν• μΈ κΈμ•΅ λ°ν™
        // - ν• μΈ κΈμ•΅μ€ 0 μ΄μƒ
        return fee.minus(discountPolicy.calculateDiscountAmount(screening));
    }
}
```

**μ„λΈνƒ€μ…λ“¤:**

```java
// β… AmountDiscountPolicy
public class AmountDiscountPolicy extends DiscountPolicy {
    @Override
    protected Money getDiscountAmount(Screening screening) {
        return discountAmount;  // ν•­μƒ μ ν¨ν• κ°’ λ°ν™
    }
}

// β… PercentDiscountPolicy
public class PercentDiscountPolicy extends DiscountPolicy {
    @Override
    protected Money getDiscountAmount(Screening screening) {
        return screening.getMovieFee().times(percent);  // ν•­μƒ μ ν¨ν• κ°’ λ°ν™
    }
}

// β… NoneDiscountPolicy
public class NoneDiscountPolicy extends DiscountPolicy {
    @Override
    protected Money getDiscountAmount(Screening screening) {
        return Money.ZERO;  // ν•­μƒ μ ν¨ν• κ°’ λ°ν™
    }
}
```

**λ€μ²΄ κ°€λ¥:**

```java
// Movie μ…μ¥μ—μ„ λ¨λ‘ λ™μΌν•κ² μ‚¬μ© κ°€λ¥!
Movie movie1 = new Movie(..., new AmountDiscountPolicy(...));
Movie movie2 = new Movie(..., new PercentDiscountPolicy(...));
Movie movie3 = new Movie(..., new NoneDiscountPolicy());

// λ¨λ‘ μ •μƒ λ™μ‘!
movie1.calculateMovieFee(screening);
movie2.calculateMovieFee(screening);
movie3.calculateMovieFee(screening);
```

### 4.4 is-a κ΄€κ³„ λ‹¤μ‹ μ‚΄ν΄λ³΄κΈ°

#### π― μ¬λ°”λ¥Έ ν•΄μ„

```
is-a κ΄€κ³„λ΅ ν‘ν„λ λ¬Έμ¥μ„ λ³Ό λ•λ§λ‹¤
λ¬Έμ¥ μ•μ— "ν΄λΌμ΄μ–ΈνΈ μ…μ¥μ—μ„"λΌλ” λ§μ΄ λΉ μ Έμλ‹¤κ³  μƒκ°ν•λΌ!

β— "μ •μ‚¬κ°ν•μ€ μ§μ‚¬κ°ν•μ΄λ‹¤"
β“ "(ν΄λΌμ΄μ–ΈνΈ μ…μ¥μ—μ„) μ •μ‚¬κ°ν•μ€ μ§μ‚¬κ°ν•μ΄λ‹¤"

β— "ν­κ·„μ€ μƒλ‹¤"
β“ "(ν΄λΌμ΄μ–ΈνΈ μ…μ¥μ—μ„) ν­κ·„μ€ μƒλ‹¤"
```

#### π’΅ ν–‰λ™μ΄ λ¨Όμ €λ‹¤

```
μ΄λ¦„μ΄ is-aλ΅ μ—°κ²° κ°€λ¥ν•λ‹¤κ³  ν•΄μ„
μƒμ† κ΄€κ³„λ΅ μ—°κ²°ν•μ§€ λ§λΌ!

μνΌνƒ€μ…κ³Ό μ„λΈνƒ€μ…μ΄
ν΄λΌμ΄μ–ΈνΈ μ…μ¥μ—μ„ ν–‰λ™μ΄ νΈν™λλ‹¤λ©΄

λ‘ νƒ€μ…μ„ is-aλ΅ μ—°κ²°ν•΄
λ¬Έμ¥μ„ λ§λ“¤μ–΄λ„ μ–΄μƒ‰ν•μ§€ μ•μ„ λ‹¨μ–΄λ΅
νƒ€μ…μ μ΄λ¦„μ„ μ •ν•λΌ

μ΄λ¦„μ΄ μ•„λ‹λΌ ν–‰λ™μ΄ λ¨Όμ €λ‹¤!
```

### 4.5 λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™κ³Ό μ μ—°ν• μ„¤κ³„

#### π― OverlappedDiscountPolicy μμ‹

```java
// μ¤‘λ³µ ν• μΈ μ •μ±… (μ—¬λ¬ ν• μΈ μ •μ±…μ„ μ¤‘μ²© μ μ©)
public class OverlappedDiscountPolicy extends DiscountPolicy {
    private List<DiscountPolicy> discountPolicies = new ArrayList<>();
    
    public OverlappedDiscountPolicy(DiscountPolicy... discountPolicies) {
        this.discountPolicies = Arrays.asList(discountPolicies);
    }
    
    @Override
    protected Money getDiscountAmount(Screening screening) {
        Money result = Money.ZERO;
        for (DiscountPolicy each : discountPolicies) {
            result = result.plus(each.calculateDiscountAmount(screening));
        }
        return result;
    }
}
```

**μ‚¬μ©:**

```java
Movie avatar = new Movie(
    "μ•„λ°”νƒ€",
    Duration.ofMinutes(120),
    Money.wons(10000),
    new OverlappedDiscountPolicy(
        new AmountDiscountPolicy(Money.wons(800), ...),
        new PercentDiscountPolicy(0.1, ...)
    )
);
```

#### π¨ μ„¤κ³„ μ›μΉ™μ μ΅°ν™”

```
μ΄ μ„¤κ³„μ—λ” μ„Έ κ°€μ§€ μ„¤κ³„ μ›μΉ™μ΄ μ™„λ²½ν•κ² μ΅°ν™”λ¥Ό μ΄λ£¬λ‹¤:

1. μμ΅΄μ„± μ—­μ „ μ›μΉ™ (DIP)
   - Movieμ™€ OverlappedDiscountPolicy λ¨λ‘
   - μ¶”μƒ ν΄λμ¤ DiscountPolicyμ— μμ΅΄
   
2. λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™ (LSP)
   - Movie κ΄€μ μ—μ„ DiscountPolicy λ€μ‹ 
   - OverlappedDiscountPolicy μ‚¬μ© κ°€λ¥
   - ν΄λΌμ΄μ–ΈνΈμ— μν–¥ μ—†μ΄ λ€μ²΄ κ°€λ¥
   
3. κ°λ°©-νμ‡„ μ›μΉ™ (OCP)
   - μƒλ΅μ΄ ν• μΈ μ •μ±… μ¶”κ°€
   - Movie μ½”λ“ μμ • λ¶ν•„μ”
   - κΈ°λ¥ ν™•μ¥, μ½”λ“ μμ • μ—†μ
```

**μ‹κ°ν™”:**

```
         β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
         β”‚  Movie   β”‚  (μƒμ„ μμ¤€ λ¨λ“)
         β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”
              β”‚ depends on
              β–Ό
      β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
      β”‚DiscountPolicy β”‚  (μ¶”μƒ)
      β””β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”
              β–²
      β”β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
      β”‚                              β”‚
β”β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”          β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚AmountDiscountβ”‚          β”‚OverlappedDiscount β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”          β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                        (μƒλ΅ μ¶”κ°€ν•΄λ„ Movie λ³€κ²½ μ—†μ)
```

---

## 5. κ³„μ•½μ— μν• μ„¤κ³„μ™€ μ„λΈνƒ€μ΄ν•‘

> π“‚ **μ½”λ“**: [`BrokenDiscountPolicy.java`]

### 5.1 κ³„μ•½μ— μν• μ„¤κ³„ (Design By Contract)

#### π― μ„Έ κ°€μ§€ μ”μ†

**μ‚¬μ „μ΅°κ±΄ (Precondition):**
```
ν΄λΌμ΄μ–ΈνΈκ°€ μ •μƒμ μΌλ΅ λ©”μ„λ“λ¥Ό μ‹¤ν–‰ν•κΈ° μ„ν•΄
λ§μ΅±μ‹μΌμ•Ό ν•λ” μ΅°κ±΄

μ±…μ„: ν΄λΌμ΄μ–ΈνΈ
```

**μ‚¬ν›„μ΅°κ±΄ (Postcondition):**
```
λ©”μ„λ“ μ‹¤ν–‰ ν›„
μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² λ³΄μ¥ν•΄μ•Ό ν•λ” μ΅°κ±΄

μ±…μ„: μ„λ²„
```

**ν΄λμ¤ λ¶λ³€μ‹ (Class Invariant):**
```
λ©”μ„λ“ μ‹¤ν–‰ μ „κ³Ό μ‹¤ν–‰ ν›„μ—
μΈμ¤ν„΄μ¤κ°€ λ§μ΅±μ‹μΌμ•Ό ν•λ” μ΅°κ±΄

μ±…μ„: μ„λ²„
```

### 5.2 DiscountPolicyμ κ³„μ•½

#### π“ μ‚¬μ „μ΅°κ±΄

```java
public abstract class DiscountPolicy {
    public Money calculateDiscountAmount(Screening screening) {
        checkPrecondition(screening);  // μ‚¬μ „μ΅°κ±΄ μ²΄ν¬
        
        // ... λ΅μ§
    }
    
    protected void checkPrecondition(Screening screening) {
        // μ‚¬μ „μ΅°κ±΄ 1: screeningμ΄ nullμ΄ μ•„λ‹
        assert screening != null;
        
        // μ‚¬μ „μ΅°κ±΄ 2: μƒμ μ‹μ‘ μ‹κ°„μ΄ ν„μ¬λ³΄λ‹¤ λ―Έλ
        assert screening.getStartTime().isAfter(LocalDateTime.now());
    }
}
```

**μλ―Έ:**
```
ν΄λΌμ΄μ–ΈνΈλ” λ‹¤μμ„ λ³΄μ¥ν•΄μ•Ό ν•¨:
1. nullμ΄ μ•„λ‹ Screening μ „λ‹¬
2. μƒμ μ‹μ‘ μ‹κ°„μ΄ λ―ΈλμΈ Screening μ „λ‹¬

μ΄λ” ν΄λΌμ΄μ–ΈνΈμ μ±…μ„!
```

#### π“ μ‚¬ν›„μ΅°κ±΄

```java
public abstract class DiscountPolicy {
    public Money calculateDiscountAmount(Screening screening) {
        // ... λ΅μ§
        
        checkPostcondition(amount);  // μ‚¬ν›„μ΅°κ±΄ μ²΄ν¬
        return amount;
    }
    
    protected void checkPostcondition(Money amount) {
        // μ‚¬ν›„μ΅°κ±΄ 1: λ°ν™κ°’μ΄ nullμ΄ μ•„λ‹
        assert amount != null;
        
        // μ‚¬ν›„μ΅°κ±΄ 2: λ°ν™κ°’μ΄ 0 μ΄μƒ
        assert amount.isGreaterThanOrEqual(Money.ZERO);
    }
}
```

**μλ―Έ:**
```
DiscountPolicyλ” λ‹¤μμ„ λ³΄μ¥ν•΄μ•Ό ν•¨:
1. nullμ΄ μ•„λ‹ Money λ°ν™
2. 0 μ΄μƒμ κΈμ•΅ λ°ν™

μ΄λ” μ„λ²„μ μ±…μ„!
```

#### π“ ν΄λΌμ΄μ–ΈνΈμ μ‚¬μ „μ΅°κ±΄ λ§μ΅±

```java
public class Movie {
    public Money calculateMovieFee(Screening screening) {
        // ν΄λΌμ΄μ–ΈνΈκ°€ μ‚¬μ „μ΅°κ±΄ λ§μ΅±!
        if (screening == null ||
            screening.getStartTime().isBefore(LocalDateTime.now())) {
            throw new InvalidScreeningException();
        }
        
        // μ΄μ  μ•μ „ν•κ² νΈμ¶ κ°€λ¥
        return fee.minus(discountPolicy.calculateDiscountAmount(screening));
    }
}
```

### 5.3 μ„λΈνƒ€μ…κ³Ό κ³„μ•½

#### π― λ¬Έμ : λ©”μ„λ“ μ¤λ²„λΌμ΄λ”©

```
κ³„μ•½ κ΄€μ μ—μ„ μƒμ†μ΄ μ΄λν•λ” κ°€μ¥ ν° λ¬Έμ :

μμ‹ ν΄λμ¤κ°€ λ¶€λ¨ ν΄λμ¤μ λ©”μ„λ“λ¥Ό
μ¤λ²„λΌμ΄λ”©ν•  μ μλ‹¤λ” κ²ƒ!

β†’ κ³„μ•½ μ„λ° κ°€λ¥μ„±!
```

#### π“ μλ»λ μμ‹: BrokenDiscountPolicy

```java
public class BrokenDiscountPolicy extends DiscountPolicy {
    
    public BrokenDiscountPolicy(DiscountCondition... conditions) {
        super(conditions);
    }
    
    @Override
    public Money calculateDiscountAmount(Screening screening) {
        checkPrecondition(screening);         // κΈ°μ΅΄ μ‚¬μ „μ΅°κ±΄
        checkStrongerPrecondition(screening); // β λ” κ°•ν• μ‚¬μ „μ΅°κ±΄!
        
        Money amount = screening.getMovieFee();
        
        checkPostcondition(amount);           // κΈ°μ΅΄ μ‚¬ν›„μ΅°κ±΄
        checkStrongerPostcondition(amount);   // β λ” κ°•ν• μ‚¬ν›„μ΅°κ±΄!
        
        return amount;
    }
    
    // β μ¶”κ°€ μ‚¬μ „μ΅°κ±΄: μƒμ μΆ…λ£ μ‹κ°„μ΄ μμ • μ΄μ „
    private void checkStrongerPrecondition(Screening screening) {
        assert screening.getEndTime().toLocalTime()
                .isBefore(LocalTime.MIDNIGHT);
    }
    
    // β μ¶”κ°€ μ‚¬ν›„μ΅°κ±΄: ν• μΈ κΈμ•΅μ΄ 1000μ› μ΄μƒ
    private void checkStrongerPostcondition(Money amount) {
        assert amount.isGreaterThanOrEqual(Money.wons(1000));
    }
    
    @Override
    protected Money getDiscountAmount(Screening screening) {
        return Money.ZERO;
    }
}
```

#### π’¥ λ¬Έμ  λ°μƒ

**ν΄λΌμ΄μ–ΈνΈ μ½”λ“ (Movie):**

```java
// Movieλ” DiscountPolicyμ™€μ κ³„μ•½λ§ μ•κ³  μμ
DiscountPolicy policy = new BrokenDiscountPolicy(...);

// μ‚¬μ „μ΅°κ±΄ λ§μ΅± (DiscountPolicyμ κ³„μ•½)
Screening screening = new Screening(...);  // null μ•„λ‹, λ―Έλ μ‹κ°

// ν•μ§€λ§ BrokenDiscountPolicyλ” μ¶”κ°€ μ‚¬μ „μ΅°κ±΄ μ”κµ¬!
// "μƒμ μΆ…λ£ μ‹κ°„μ΄ μμ • μ΄μ „"
// β†’ Movieλ” μ΄λ¥Ό λ¨λ¦„!
// β†’ ν‘λ ¥ μ‹¤ν¨!
```

### 5.4 μ„λΈνƒ€μ…μ κ³„μ•½ κ·μΉ™

#### π“‹ κ·μΉ™ 1: μ‚¬μ „μ΅°κ±΄

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                     β”‚
β”‚  μ„λΈνƒ€μ…μ— λ” κ°•λ ¥ν• μ‚¬μ „μ΅°κ±΄μ„ μ •μν•  μ μ—†λ‹¤!               β”‚
β”‚                                                     β”‚
β”‚  μ„λΈνƒ€μ…μ— μνΌνƒ€μ…κ³Ό κ°™κ±°λ‚                              β”‚
β”‚  λ” μ•½ν• μ‚¬μ „μ΅°κ±΄μ„ μ •μν•  μ μλ‹¤                          β”‚
β”‚                                                     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

**μ΄μ :**

```
ν΄λΌμ΄μ–ΈνΈλ” μνΌνƒ€μ…μ κ³„μ•½λ§ μ•κ³  μλ‹¤.

λ” κ°•ν• μ‚¬μ „μ΅°κ±΄μ„ μ¶”κ°€ν•λ©΄:
β†’ ν΄λΌμ΄μ–ΈνΈκ°€ λ¨λ¥΄λ” μ΅°κ±΄ μ¶”κ°€
β†’ ν‘λ ¥ μ‹¤ν¨!

κ°™κ±°λ‚ λ” μ•½ν• μ‚¬μ „μ΅°κ±΄μ€:
β†’ ν΄λΌμ΄μ–ΈνΈκ°€ μ΄λ―Έ λ§μ΅±μ‹ν‚¤κ³  μμ
β†’ ν‘λ ¥ μ„±κ³µ!
```

**μμ‹:**

```java
// β… μ¬λ°”λ¥Έ μ„λΈνƒ€μ…: μ‚¬μ „μ΅°κ±΄ μ κ±° (λ” μ•½ν•¨)
public class WeakerPreconditionPolicy extends DiscountPolicy {
    @Override
    public Money calculateDiscountAmount(Screening screening) {
        // checkPrecondition(screening); // μ‚¬μ „μ΅°κ±΄ μ κ±°!
        
        Money amount = Money.ZERO;
        // ... λ΅μ§
        
        checkPostcondition(amount);
        return amount;
    }
}

// β μλ»λ μ„λΈνƒ€μ…: μ‚¬μ „μ΅°κ±΄ μ¶”κ°€ (λ” κ°•ν•¨)
public class StrongerPreconditionPolicy extends DiscountPolicy {
    @Override
    public Money calculateDiscountAmount(Screening screening) {
        checkPrecondition(screening);
        checkAdditionalPrecondition(screening);  // β μ¶”κ°€!
        // ...
    }
}
```

#### π“‹ κ·μΉ™ 2: μ‚¬ν›„μ΅°κ±΄

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                     β”‚
β”‚  μ„λΈνƒ€μ…μ— λ” μ•½ν• μ‚¬ν›„μ΅°κ±΄μ„ μ •μν•  μ μ—†λ‹¤!                 β”‚
β”‚                                                     β”‚
β”‚  μ„λΈνƒ€μ…μ— μνΌνƒ€μ…κ³Ό κ°™κ±°λ‚                              β”‚
β”‚  λ” κ°•ν• μ‚¬ν›„μ΅°κ±΄μ„ μ •μν•  μ μλ‹¤                          β”‚
β”‚                                                     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

**μ΄μ :**

```
ν΄λΌμ΄μ–ΈνΈλ” μνΌνƒ€μ…μ κ³„μ•½μ„ κΈ°λ€ν•λ‹¤.

λ” μ•½ν• μ‚¬ν›„μ΅°κ±΄μ„ μ •μν•λ©΄:
β†’ ν΄λΌμ΄μ–ΈνΈμ κΈ°λ€λ¥Ό λ§μ΅±μ‹ν‚¤μ§€ λ»ν•¨
β†’ ν‘λ ¥ μ‹¤ν¨!

κ°™κ±°λ‚ λ” κ°•ν• μ‚¬ν›„μ΅°κ±΄μ€:
β†’ ν΄λΌμ΄μ–ΈνΈμ κΈ°λ€λ¥Ό μ¶©μ΅±ν•κ±°λ‚ μ΄κ³Ό
β†’ ν‘λ ¥ μ„±κ³µ!
```

**μμ‹:**

```java
// β… μ¬λ°”λ¥Έ μ„λΈνƒ€μ…: μ‚¬ν›„μ΅°κ±΄ κ°•ν™”
public class StrongerPostconditionPolicy extends DiscountPolicy {
    @Override
    public Money calculateDiscountAmount(Screening screening) {
        checkPrecondition(screening);
        
        Money amount = Money.wons(1000);  // μµμ† 1000μ› λ³΄μ¥
        
        checkPostcondition(amount);        // κΈ°μ΅΄: amount >= 0
        checkStrongerPostcondition(amount); // μ¶”κ°€: amount >= 1000
        
        return amount;
    }
    
    private void checkStrongerPostcondition(Money amount) {
        assert amount.isGreaterThanOrEqual(Money.wons(1000));
    }
}

// β μλ»λ μ„λΈνƒ€μ…: μ‚¬ν›„μ΅°κ±΄ μ•½ν™”
public class WeakerPostconditionPolicy extends DiscountPolicy {
    @Override
    public Money calculateDiscountAmount(Screening screening) {
        checkPrecondition(screening);
        
        Money amount = Money.wons(-100);  // β μμ κ°€λ¥!
        
        // checkPostcondition(amount); // μ‚¬ν›„μ΅°κ±΄ μ κ±°!
        
        return amount;
    }
}
```

### 5.5 κ³„μ•½ κ·μΉ™ μ”μ•½

#### π“ κ³„μ•½ κ·μΉ™ ν‘

| μ΅°κ±΄ | μ„λΈνƒ€μ… μ μ•½ | μ΄μ  |
|------|-------------|------|
| **μ‚¬μ „μ΅°κ±΄** | κ°™κ±°λ‚ λ” μ•½ν•΄μ•Ό ν•¨ | ν΄λΌμ΄μ–ΈνΈκ°€ λ¨λ¥΄λ” μ΅°κ±΄ μ¶”κ°€ λ¶κ°€ |
| **μ‚¬ν›„μ΅°κ±΄** | κ°™κ±°λ‚ λ” κ°•ν•΄μ•Ό ν•¨ | ν΄λΌμ΄μ–ΈνΈ κΈ°λ€λ¥Ό λ§μ΅±ν•΄μ•Ό ν•¨ |
| **λ¶λ³€μ‹** | λ¶€λ¨μ λ¶λ³€μ‹ μ μ§€ | ν΄λμ¤ μƒνƒ μΌκ΄€μ„± λ³΄μ¥ |

#### π― LSPμ™€μ μ—°κ²°

```
κ³„μ•½μ— μν• μ„¤κ³„λ”
λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™μ„ μ½”λ“ μμ¤€μ—μ„ κµ¬μ²΄ν™”ν• κ²ƒ!

LSPλ¥Ό λ§μ΅±ν•λ ¤λ©΄:
1. μ„λΈνƒ€μ…μ μ‚¬μ „μ΅°κ±΄μ„ κ°•ν™”ν•μ§€ λ§ κ²ƒ
2. μ„λΈνƒ€μ…μ μ‚¬ν›„μ΅°κ±΄μ„ μ•½ν™”ν•μ§€ λ§ κ²ƒ
3. μνΌνƒ€μ…μ λ¶λ³€μ‹μ„ μ μ§€ν•  κ²ƒ
```

---

## 6. ν•µμ‹¬ μ •λ¦¬

### π― μƒμ†μ μ¬λ°”λ¥Έ μ©λ„

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                                                     β”‚
β”‚  μƒμ†μ λ©μ μ€ μ½”λ“ μ¬μ‚¬μ©μ΄ μ•„λ‹λ‹¤!                        β”‚
β”‚                                                     β”‚
β”‚  μƒμ†μ λ©μ μ€ νƒ€μ… κ³„μΈµμ„ κµ¬μ΅°ν™”ν•λ” κ²ƒμ΄λ‹¤!                  β”‚
β”‚                                                     β”‚
β”‚  λ™μΌν• λ©”μ‹μ§€μ— λ€ν•΄ μ„λ΅ λ‹¤λ¥΄κ² ν–‰λ™ν•  μ μλ”               β”‚
β”‚  λ‹¤ν•μ μΈ κ°μ²΄λ¥Ό κµ¬ν„ν•κΈ° μ„ν•΄μ„λ”                          β”‚
β”‚  κ°μ²΄μ ν–‰λ™μ„ κΈ°λ°μΌλ΅ νƒ€μ… κ³„μΈµμ„ κµ¬μ„±ν•΄μ•Ό ν•λ‹¤               β”‚
β”‚                                                     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### π“ μƒμ† μ‚¬μ© μ²΄ν¬λ¦¬μ¤νΈ

```
μƒμ†μ„ μ‚¬μ©ν•κΈ° μ „μ— λ‹¤μ μ§λ¬Έμ— λ‹µν•λΌ:

β–΅ (ν΄λΌμ΄μ–ΈνΈ μ…μ¥μ—μ„) is-a κ΄€κ³„κ°€ μ„±λ¦½ν•λ”κ°€?

β–΅ ν΄λΌμ΄μ–ΈνΈ μ…μ¥μ—μ„ μμ‹μ΄ λ¶€λ¨λ¥Ό λ€μ²΄ν•  μ μλ”κ°€?
  (ν–‰λ™ νΈν™μ„±)

β–΅ μμ‹ ν΄λμ¤κ°€ λ¶€λ¨ ν΄λμ¤μ μ‚¬μ „μ΅°κ±΄μ„ κ°•ν™”ν•μ§€ μ•λ”κ°€?

β–΅ μμ‹ ν΄λμ¤κ°€ λ¶€λ¨ ν΄λμ¤μ μ‚¬ν›„μ΅°κ±΄μ„ μ•½ν™”ν•μ§€ μ•λ”κ°€?

β–΅ μμ‹ ν΄λμ¤κ°€ λ¶€λ¨ ν΄λμ¤μ λ¶λ³€μ‹μ„ μ μ§€ν•λ”κ°€?

λ¨λ‘ YES β†’ μƒμ† μ‚¬μ© κ°€λ¥
ν•λ‚λΌλ„ NO β†’ ν•©μ„± λλ” μΈν„°νμ΄μ¤ κ³ λ ¤
```

### π”‘ ν•µμ‹¬ κ°λ…

#### 1. νƒ€μ…

```
κ°μ²΄μ§€ν–¥μ—μ„ νƒ€μ… = νΌλΈ”λ¦­ μΈν„°νμ΄μ¤

λ™μΌν• νΌλΈ”λ¦­ μΈν„°νμ΄μ¤ = λ™μΌν• νƒ€μ…

νƒ€μ…μ„ κ²°μ •ν•λ” κ²ƒμ€ λ‚΄λ¶€ μ†μ„±μ΄ μ•„λ‹λΌ μ™Έλ¶€ ν–‰λ™!
```

#### 2. νƒ€μ… κ³„μΈµ

```
μνΌνƒ€μ…: λ” μΌλ°μ , λ” λ„“μ€ μλ―Έ
μ„λΈνƒ€μ…: λ” νΉμν•, λ” μΆμ€ μλ―Έ

μ„λΈνƒ€μ…μ μΈμ¤ν„΄μ¤λ” μνΌνƒ€μ…μ μΈμ¤ν„΄μ¤λ΅ κ°„μ£Ό κ°€λ¥
```

#### 3. μ„λΈν΄λμ‹± vs μ„λΈνƒ€μ΄ν•‘

```
μ„λΈν΄λμ‹±:
- λ©μ : μ½”λ“ μ¬μ‚¬μ©
- ν–‰λ™ νΈν™μ„±: μ—†μ
- λ€μ²΄ κ°€λ¥μ„±: λ¶κ°€λ¥
- κ²°κ³Ό: κ°•ν• κ²°ν•©, λ³€κ²½ μ–΄λ ¤μ›€

μ„λΈνƒ€μ΄ν•‘:
- λ©μ : νƒ€μ… κ³„μΈµ κµ¬μ„±
- ν–‰λ™ νΈν™μ„±: μμ
- λ€μ²΄ κ°€λ¥μ„±: κ°€λ¥ (LSP)
- κ²°κ³Ό: μ μ—°ν• μ„¤κ³„, λ‹¤ν•μ„±
```

#### 4. λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™ (LSP)

```
μ„λΈνƒ€μ…μ€ μνΌνƒ€μ…μ„ λ€μ²΄ν•  μ μμ–΄μ•Ό ν•λ‹¤.

ν΄λΌμ΄μ–ΈνΈκ°€ μ°¨μ΄λ¥Ό μΈμ‹ν•μ§€ λ»ν• μ±„
μνΌνƒ€μ… λ€μ‹  μ„λΈνƒ€μ…μ„ μ‚¬μ©ν•  μ μμ–΄μ•Ό ν•λ‹¤.

λ€μ²΄ κ°€λ¥μ„±μ„ κ²°μ •ν•λ” κ²ƒμ€ ν΄λΌμ΄μ–ΈνΈ!
```

#### 5. κ³„μ•½μ— μν• μ„¤κ³„

```
μ‚¬μ „μ΅°κ±΄: ν΄λΌμ΄μ–ΈνΈμ μ±…μ„
μ‚¬ν›„μ΅°κ±΄: μ„λ²„μ μ±…μ„
λ¶λ³€μ‹: μ„λ²„μ μ±…μ„

μ„λΈνƒ€μ… κ·μΉ™:
- μ‚¬μ „μ΅°κ±΄: κ°•ν™” λ¶κ°€ (κ°™κ±°λ‚ μ•½ν™”)
- μ‚¬ν›„μ΅°κ±΄: μ•½ν™” λ¶κ°€ (κ°™κ±°λ‚ κ°•ν™”)
- λ¶λ³€μ‹: μ μ§€
```

### π’΅ μ„¤κ³„ μ›μΉ™μ μ΅°ν™”

```
μ¬λ°”λ¥Έ μƒμ† (μ„λΈνƒ€μ΄ν•‘)μ€
μ—¬λ¬ μ„¤κ³„ μ›μΉ™μ΄ μ΅°ν™”λ¥Ό μ΄λ£¬λ‹¤:

1. λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™ (LSP)
   - μ„λΈνƒ€μ…μ λ€μ²΄ κ°€λ¥μ„±
   
2. μμ΅΄μ„± μ—­μ „ μ›μΉ™ (DIP)
   - μ¶”μƒν™”μ— μμ΅΄
   
3. κ°λ°©-νμ‡„ μ›μΉ™ (OCP)
   - ν™•μ¥μ— μ—΄λ¦Ό, μμ •μ— λ‹«ν
   
4. μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™ (ISP)
   - ν΄λΌμ΄μ–ΈνΈλ³„ μΈν„°νμ΄μ¤ λ¶„λ¦¬
   
5. λ‹¨μΌ μ±…μ„ μ›μΉ™ (SRP)
   - ν•λ‚μ λ³€κ²½ μ΄μ 
```

### π“ μλ»λ μƒμ† μμ‹

| μμ‹ | λ¬Έμ  | μ›μΉ™ μ„λ° |
|------|------|----------|
| **Penguin extends Bird** | fly() ν–‰λ™ λ¶μΌμΉ | LSP |
| **Square extends Rectangle** | λ„λΉ„/λ†’μ΄ λ…λ¦½μ„± νκ΄΄ | LSP |
| **Stack extends Vector** | λ¶ν•„μ”ν• μΈν„°νμ΄μ¤ λ…Έμ¶ | LSP, ISP |
| **BrokenDiscountPolicy** | μ‚¬μ „μ΅°κ±΄ κ°•ν™” | LSP, DbC |

### π“ ν•µμ‹¬ κµν›

```
1. μ–΄νμ  is-aκ°€ μ•„λ‹λΌ ν–‰λ™ νΈν™μ„±μΌλ΅ νλ‹¨ν•λΌ
   - "ν­κ·„μ€ μƒλ‹¤"λ” μ–΄νμ μΌλ΅ λ§μ§€λ§
   - ν΄λΌμ΄μ–ΈνΈ κ΄€μ μ—μ„ ν–‰λ™μ΄ λ‹¤λ¥΄λ©΄ μƒμ† X
   
2. ν΄λΌμ΄μ–ΈνΈ κ΄€μ μ—μ„ μƒκ°ν•λΌ
   - is-a κ΄€κ³„ μ•μ— "ν΄λΌμ΄μ–ΈνΈ μ…μ¥μ—μ„" μ¶”κ°€
   - λ€μ²΄ κ°€λ¥μ„±μ€ ν΄λΌμ΄μ–ΈνΈκ°€ κ²°μ •
   
3. μ΄λ¦„μ΄ μ•„λ‹λΌ ν–‰λ™μ΄ λ¨Όμ €λ‹¤
   - ν–‰λ™μ΄ νΈν™λλ©΄ μ μ ν• μ΄λ¦„ λ¶€μ—¬
   - μ΄λ¦„λ§ λ³΄κ³  μƒμ† κ΄€κ³„ κ²°μ • X
   
4. μƒμ†μ΄ μ–΄λ ¤μ°λ©΄ ν•©μ„±μ„ κ³ λ ¤ν•λΌ
   - μΈν„°νμ΄μ¤λ΅ λ¶„λ¦¬
   - ν•©μ„±μΌλ΅ μ¬μ‚¬μ©
   - μ μ—°μ„± ν™•λ³΄
   
5. κ³„μ•½μ„ μ§€μΌλΌ
   - μ‚¬μ „μ΅°κ±΄ κ°•ν™” κΈμ§€
   - μ‚¬ν›„μ΅°κ±΄ μ•½ν™” κΈμ§€
   - λ¶λ³€μ‹ μ μ§€
```

---

## π”— μ—°κ²°κ³ λ¦¬

### μ΄μ „ μ¥κ³Όμ μ—°κ²°
- **Chapter 11**: ν•©μ„±μ΄ μƒμ†λ³΄λ‹¤ λ‚μ€ μ΄μ 
- **Chapter 12**: λ‹¤ν•μ„±μ λ©”μ»¤λ‹μ¦ β†’ μ¬λ°”λ¥Έ μƒμ†μ μ΅°κ±΄
- μƒμ†μ λ¬Έμ μ  β†’ μ„λΈνƒ€μ΄ν•‘μΌλ΅ ν•΄κ²°

### λ‹¤μ μ¥ μκ³ 
- **Chapter 14**: μΌκ΄€μ„± μλ” ν‘λ ¥
  - μ μ‚¬ν• ν‘λ ¥ ν¨ν„΄μ μΌκ΄€μ„±
  - μ„¤κ³„μ μ¬μ‚¬μ©
  - ν•µμ‹¬ λ„λ©”μΈ κ°λ… νμ•…

---

<div align="center">

**[β¬† λ©μ°¨λ΅ λμ•„κ°€κΈ°](../README.md)**

</div>

<div align="center">

**[β¬…οΈ μ΄μ „: Chapter 12](../chapter12/README.md) | [λ‹¤μ: Chapter 14 β΅οΈ](../chapter14/README.md)**

</div>
